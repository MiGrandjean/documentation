////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; http://creativecommons.org/licenses/by-sa/3.0/de/
; http://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; http://creativecommons.org/licenses/by-sa/3.0/
; http://creativecommons.org/licenses/by-sa/3.0/legalcode
; 
; credits: http://www.opsi.org/credits/
////


:Author:    uib gmbh
:Email:     info@uib.de
:Date:      10.12.2013
:Revision:  4.0.4
:doctype:		book

// Include common opsi terms
include::../common/opsi_terms.asciidoc[]

= opsi Version 4.0.4 Release Notes

// Include common opsi copyright
include::../common/opsi_manual_copyright.asciidoc[]

[[opsi-404-releasenotes-overview]]
== Übersicht der Neuerungen

Das opsi Service Releases 4.0.4 weist eine Fülle von Neuerungen und Detailverbesserungen auf. Hier eine Übersicht:

* Ab opsi 4.0.4 werden nun auch folgende Distributionen unterstützt: +
** Debian Wheezy
** UCS 3.2

* Keine Unterstützung mehr für: +
** CentOs 5
** RedHat 5
** OpenSuse 11.3 / 11.4
** UCS 2.x

Da auch die oben genannten Repositories geschlossen werden, sind die Pakete mit 4.0.4 nicht mehr verfügbar. Für den Fall, dass die letzten Freigegebenen Pakete für diese Distributionen noch mal benötigen werden, haben wir ein Archiv dieser Repositories abgelegt, dieses befindet sich unter:

http://download.uib.de/opsi4.0/archiv/discontinued_platforms/


* opsi-configed: +
** Umfangreich überarbeitete Version

* opsi Serverkomponenten: +
** Eine productId darf jetzt statt 32 Zeichen bis zu 128 Zeichen lang sein.
** Neuer Kommandozeilen Befehl: `opsi-set-rights` +
macht das selbe wie `opsi-setup --set-rights` , kann aber nicht nur als root sondern auch per sudo von Mitgliedern der Gruppe pcpatch (bzw. opsi-file-admins) aufgerufen werden: +
Beispiel: +
[source,prompt]
----
sudo opsi-set-rights .
----
* Neue opsi shares: +
`opsi_depot_rw` zeigt (wie opsi_depot) nach `/var/lib/opsi/depot` ist aber beschreibbar. Der share `opt_pcbin` ist damit abgekündigt. +
`opsi_images` zeigt nach `/var/lib/opsi/ntfs-images` und wird von dem opsi-clonezilla Produkt verwendet.
* Neues opsi-bootimage basierend auf Kernel 3.10.10

* Windows Netboot Produkte +
** Windows 8.1 Unterstützung
** new property: data_partition_preserve (always/if_possible/never) (default=never)
** new property: pre_format_system_partitions (default=true)

* opsi-winst: +
** Anpassung an Windows 8.1
** new command: isSuccess : Terminates Script execution with out error
** new command: noUpdateScript : Do not run a update after setup script even if it is there and we are not failed
** new function emptylist
** new function getlistcontainingList

* swaudit (fix)

* opsi-client-agent: +
** fix für WAN extension
** fix für pcpatch user in AD/Samba4 (UCS 3.2 errata4)

* experimentell: opsi-setup-detector: +
GUI Werkzeug zur Analyse von Setupprogrammen und (soweit möglich) halbautomatischer Erstellung von opsi-Paketen

////
Für Details lesen Sie bitte das opsi-v404-releasenotes Handbuch bzw. die überarbeiteten opsi Handbücher.
////


[[opsi-404-releasenotes-eol]]
== Abkündigung

In diesem Kapitel werden die Abkündigungen aufgelistet. Diese Distributionsversionen werden aus verschiedenen Gründen nicht mehr weiter von opsi unterstützt.

[[opsi-404-releasenotes-eol_python25]]
=== Abkündigung der Python 2.5 Unterstützung

Mit diesem Servicerelease wird offiziell die Unterstützung für Python 2.5 eingestellt. Dies betrifft Python 2.5 Distributionen: Debian Lenny und UCS 2.x. Die betroffenen Repositories werden am 31.12.2013 geschlossen. Die Paketstände zu diesem Termin, werden auf download.uib.de im Archiv veröffentlicht. Für Betroffene opsi-Systeme empfehlen wir den Upgrade auf die Neuen Distributionsversionen, die noch unterstützt werden.

[[opsi-404-releasenotes-eol_distros]]
=== Abkündigung: Distributionsversionen

Folgende Systeme werden mangels Maintainance vom Hersteller abgekündigt:

** UCS 2
** Debian Lenny

Auch die oben genannten Repositories werden am 31.12.2013 geschlossen. Für betroffene Installationen empfehlen wir dringend ein OS-Upgrade durch zu führen. Allerdings sollten Sie vorher prüfen, ob die Version zu der Sie aktualisieren wollen auch von opsi unterstützt wird.



[[opsi-404-releasenotes-installation]]
== Hinweise zur Installation

Wir empfehlen vor der Installation des Updates mit (sicherheitshalber) opsi-backup eine Sicherung Ihres Backends durchzuführen:
[source,prompt]
----
opsi-backup create
----


Die Produkte welche im Rahmen dieses Releases veröffentlicht werden, sind in etlichen Teilen voneinander abhängig. Sie sollten daher nicht versuchen nur Teile zu installieren.

Sie sollten dabei zuerst den Server updaten und danach die opsi-Produkte.

[[opsi-404-releasenotes-installation-rpmbased-servers]]
=== Hinweise zum aktualisieren von RPM-Basierten Distributionen

Für RPM-Basierte Distributionen ( Centos, RedHat, openSUSE und SLES) gibt es eine Aktualisierung von python-twisted. Deshalb gibt es eine erweiterte Abhängigkeit. Bitte Installieren Sie das Paket python-asn1 / python-pyasn1 bevor Sie mit dem eigentlichen Update beginnen.

Redhat / Centos:
[source,prompt]
----
yum makecache
yum install python-asn1
----

openSUSE / SLES:
[source,prompt]
----
zypper refresh
zypper -v install python-pyasn1
----

[[opsi-404-releasenotes-installation-opsipackages]]
=== Hinweise zum aktualisieren von opsi-Paketen

Die Installation erfordert keine besonderen Arbeiten. Sie erfolgt im Rahmen der normalen Updates ihres Servers und der opsi-Produkte.

Sie sollten dabei zuerst den Server updaten und danach die opsi-Produkte. Dies erledigt der opsi-product-updater:

[source,prompt]
----
opsi-product-updater -i -vv
----

Um den neuen share opsi_depot_rw und den Befehl `sudo opsi-set-rights` nutzen zu können führen Sie bitte aus:
[source,prompt]
----
opsi-setup --patch-sudoers-file
opsi-setup --auto-configure-samba
----

Sollten Sie eine Multidepot Umgebung haben, so machen Sie zunächst das Upgrade auf Ihrem config-server, bevor Sie die Depots upgraden.

[[opsi-configed]]
== opsi-configed 4.0.4.1

[[opsi-configed-main-savedstates]]
=== Gruppe in Bearbeitung wird gespeichert

Der '{opsi-configed}' speichert jetzt lokal (auf dem PC, auf dem er läuft) und userbezogen die zuletzt getätigte Gruppenauswahl, so dass beim nächsten Start die Bearbeitung der gleichen Gruppe direkt wieder aufgenommen werden kann.

[[opsi-configed-main-menubar]]
=== Erweiterte Hauptmenüleiste
Der '{opsi-configed}' kennt in der Hauptmenüleiste neben den drei Buttons zur Auswahl des Hauptfenstermodus 
jetzt drei Buttons zum Aufruf von anderen Aktionsfenstern (vorher hier nur Lizenzzmanagment). 

Insgesamt befinden sich damit jetzt dort jetzt sechs Schaltflächen:

* Client-Konfiguration
* Depoteigenschaften
* Server-Konfiguration
* Gruppenaktionen
* Paketaktionen
* Lizenzmanagement

.'{opsi-configed}': Buttonleiste mit den neuen Buttons für Gruppenaktionen und Paketaktionen
image::../images/configed-masterbuttons2.png["{opsi-configed}: Buttonleiste mit den neuen Buttons für Gruppenaktionen und Paketaktionen", width=400]


[[opsi-configed-groupactions]]
=== Gruppenaktionen

Das Fenster "Gruppenaktionen" ist als Startpunkt für gruppenbezogene Funktionen vorgesehen. Im Moment wird nur eine Funktion angeboten, die für die opsi-localimage-Option interessant ist: 

*  die Suche nach einem Betriebssystem, das auf allen PCs der selektierten Gruppe schon installiert war und daher zur Auswahl für die Inbetriebnahme (auf allen PCs der Gruppe) angeboten werden kann. 

.'{opsi-configed}': Gruppenaktionen (für opsi-local-image)
image::../images/configed_groupaction_localimage.png["{opsi-configed}: Gruppenaktionen (für opsi-local-image)", width=400]


[[opsi-configed-packageactions]]
=== Produktaktionen

Das Fenster "Produktaktionen" stellt zwei Funktionen bereit:

*  Eine .opsi-Datei (ein opsi-Paket) kann ausgewählt werden bzw. der Pfad zu ihr eingegeben werden. Das Paket kann auf den opsi-Server hochgeladen werden; der standardmäßig vorhandene Netzwerk- (Samba-) Share opsi_workbench auf dem opsi-Server ist dabei der Default-Wert für das Zielverzeichnis auf dem Server. Schließlich wird bei Betätigen des Buttons versucht, das Paket mit einem Aufruf analog einem opsi-package-manager-Aufruf auf dem Server als Produkt zu installieren.

*  Die WinPE-Dateien bzw. die Installfiles für ein Windows-Produkt (ab Windows Vista) können in das Server-Produktverzeichnis (Share opsi_depot) hochgeladen werden, so dass die Windows-Produkte nicht mehr serverseitig angefasst werden müssen.

.'{opsi-configed}': Paket- bzw. Produktaktionen
image::../images/configed_package-actions.png["{opsi-configed}: Paketaktionen", width=400]

[[opsi-configed-host-actions]]
=== Aktionen im OpsiClient-Menü

[[opsi-configed-host-actions-disabling]]
==== Ab- und Anschalten der Möglichkeit, Clients zu erstellen und / oder zu Löschen.

Es gibt einen Hostparameter (Config) `configed.host_actions_disabled` mit dem sich steuern lässt, ob über den '{opsi-configed}' Clients erzeugt oder gelöscht werden können. 

Demenstprechend stehen die beiden Werte:

* `add client`
* `remove client`

zur Verfügung. Im Config ist Mehrfachselektion möglich. D.h. beide Werte können gewählt werden. 
Default ist <leer>, also kein Wert ist gewählt.

Sie können die Default-Einstellung über die Serverkonfiguration oder mit folgendem Befehl so ändern, dass ein Erstellen und Löschen von Clients über den '{opsi-configed}' nicht mehr möglich ist.


[source,prompt]
----
opsi-admin -d method config_updateObjects '{"defaultValues": ["add client", "remove client"], "editable": false, "multiValue": true, "possibleValues": ["add client", "remove client"], "type": "UnicodeConfig", "id": "configed.host_actions_disabled"}'
----


[[opsi-configed-host-actions-wakeonlan]]
==== WakeOnLan-Funktionalität mit versetzten Zeiten

Bei der WakeOnLan-Funktion kann jetzt gewählt, werden, ob das Netzwerksignal direkt an alle ausgewählten Clients geschickt werden soll oder mit einem der vorgegebenen Abstände. Zu beachten ist, dass der '{opsi-configed}' hier die Aktionen auslöst, d.h. der "Weckruf" wird nur ausgelöst, wenn das Programm weiterhin läuft.

[[opsi-configed-host-actions-opsiclientd-event]]
==== Auslösen spezieller opsiclientd-Events 

Über den '{opsi-configed}' können jetzt auch andere als das Default-Event "on_demand" auf dem opsiclientd der ausgewählten Rechner ausgelöst werden. Dies setzt eine entsprechende Konfiguration der opsiclientd.conf voraus. Welche Events (zusätzlich) zum Auslösen angeboten werden, kann über die Server-Hostproperties bearbeitet werden.

[[opsi-configed-host-actions-delete-package-caches]]
==== Für WAN-Clients: Pakete-Cache löschen

Auf WAN-Clients kann es zu Problemen mit dem Pakete-Cache kommen. Daher wird für sie eine Funktion angeboten, den Pakete-Cache komplett zu resetten.


[[opsi-configed-productconfiguration]]
=== Neuerung in der Produktkonfigurations-Seite

[[opsi-configed-productconfiguration-searchfunction]]
==== Suchfunktion

Mit der Suchfunktion kann nach Produktnamen bzw. - je nach Einstellung in der Auswahlbox - 
nach Werten in den Feldern der Produkttabelle gesucht werden (analog zur Suche in der Client-Tabelle). 
Dazu ist im Suchfeld ein Suchstring einzugeben, die Suche startet direkt und die erste Trefferzeile wird 
markiert. Wenn es keinen Treffer gibt oder Zeichen aus dem Suchstring gelöscht werden, geht die 
Markierung auf die erste Tabellenzeile. 

Im Kontextmenü des Suchfeldes werden weitere Optionen angeboten.

.'{opsi-configed}': Produktsuche, mit Kontextmenü
image::../images/configed_productsearch.png["{opsi-configed}: Produktsuche, mit Kontextmenü", width="300"]


Hilfreich kann die Benutzung der Filterfunktion sein. Aktivieren des Filters reduziert die angezeigten Produkte 
auf die in diesem Moment markierten. Die Auswahl bleibt erhalten, bis der Filter durch erneutes 
Anklicken des Filterbuttons wieder deaktiviert wird.

[[opsi-404-releasenotes-bootimage]]
==== Opsi-linux-bootimage

Neben einer Reihe von Fixes und einigen Verbesserungen vor allem im Cifs-Bereich, liefert das opsi-linux-bootimage Paket nun zusätzlich zur 32-Bit Version auch eine 64-Bit Version. Das 64-Bit Image wird hauptsächlich für den uefi- und linux-support benötigt. Die Umstellung hat keine Auswirkungen auf den normalen Betrieb und wird nur bei bedarf automatisch eingesetzt.

[[opsi-404-releasenotes-ucs]]
== UCS

Mit dem opsi 4.0.4 Servicerelease wird nun auch UCS 3.2 für opsi4ucs unterstützt.

[[opsi-404-releasenotes-ucs-executablebit]]
=== UCS Executablebit-Fix

Seit einem Update der samba-Pakete in UCS 3.1-1 und aufwärts gibt es ein Problem mit dem Zugriff auf das opsi-Depotshare. Jede ausführbare Datei opsi-Depotshare muss auch Systemseitig das Executable-Bit gesetzt haben, damit die Windows-Clients diese Dateien ausführen dürfen. Ausgenommen von dieser Änderung ist das Administrator-Konto von UCS.

vgl. https://forum.opsi.org/viewtopic.php?f=1&t=4810

Im 4.0.4 Release wurde das Problem dadurch behoben, dass die Gruppe opsifileadmins als adminuser in der Share-Konfiguration vom opsi_depot-Share aufgenommen wurde. Dadurch verhalten sich die Zugriffe auf den opsi-Depotshare wieder wie gewohnt.

Diese Änderung wurde bewusst nur für diesen Share implementiert, da zum einen dieser Share essentiell für die zentralen opsi Funktionen ist und zum anderen dieser Share nur als ReadOnly-Share publiziert wird.

Sollten Sie diese Änderung auch bei den anderen opsi-Shares benötigen (wie z.B.: opsi_workbench), so müssen Sie diese Änderungen manuell auch für diese Shares anwenden. Um diese Änderung manuell für die anderen Shares auch an zu wenden, benötigen Sie share.conf-Datei des Shares, diese finden Sie unter `/etc/samba/shares.conf.d`. In die entsprechende Datei müssen Sie dann folgende Zeile hinzufügen:

[source,prompt]
----
admin users = administrator join-backup @$fileadmingroup
----

WARNING: Die UCR-Variable:
`samba4/ntacl/backend`
wurde für den früheren Fix auf UCS 3.0 auf None gesetzt, mit der neuen Version wird diese Konfiguration wieder auf 'native' umgestellt.

[[opsi-404-releasenotes-ucs-fwRules]]
=== Änderungen in den Firewall Regeln

Im 4.0.4 release wurden die Firewall-Regeln von opsi umgebaut. Vorher wurden die Firewall-Regeln in der Template-Datei: `/etc/security/packetfilter.d/50_local.sh` eingetragen. Haupsächlich geht es hierbei um zwei Ports:

. TCP 4447 opsi-Webservice
. UDP 69 tftp

Diese Konfiguration wird nun in der neuen Version wieder zurückgenommen und mittels ucr als Registrierungsvariablen gesetzt. Die neuen Firewall-Regeln sind als `package`-Rules angelegt und können somit zentral über UCR eingesehen, modifziert und deaktiviert bzw. gelöscht werden.

Die genaue Vorgehensweise für diese Art der Konfiguration entnehmen Sie bitte der UCS-Dokumentation.

[[opsi-404-releasenotes-misc]]
== Sonstiges

[[opsi-404-releasenotes-misc-changelogs]]
=== Changelogs:

[[opsi-404-releasenotes-misc-changelogs-opsi-client-agent]]
==== Changelog opsi-client-agent

opsiclientd (4.0.77) stable; urgency=low

  * WAN/VPN: Win 8.1 mshotfix support
  * WAN/VPN: Bugfix for connection loose by productCaching, when using
webdav
  * Changed LogfileDir from C:\\tmp\\opsiclientd.log to
C:\\opsi.org\\log\\opsiclientd.log

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 14 Jan 2014 01:08:04 +0100
 
opsi-client-agent (4.0.4.4-1) stable; urgency=low

  * opsiclientd 4.0.77
  * python-opsi 4.0.4.4-1
  * fix in install logic at command line parameter handling to avoid runtime errors

 -- Erol Ueluekmen <e.ueluekmen@uib.de> Wed, 23 Jan 2014 01:05:28 + 0100

opsi-client-agent (4.0.4.3-1) stable; urgency=low

  * if $INST_MODUS$ = "INSTALL" tyr to initialize webservice by clientid and pckey
  
 -- Detlef Oertel <d.oertel@uib.de>  Mon, 13 Jan 2014 15:00:00 +0100

opsi-client-agent (4.0.4.2-1) stable; urgency=low

  * update to opsi-winst 4.11.3.11
  * allow non-admin logins (scripted or interactive) to install clients only
    with createClient credential (see also 4.0.2.2-1)
  
 -- Detlef Oertel <d.oertel@uib.de>  Wed, 08 Jan 2014 15:00:00 +0100

opsi-client-agent (4.0.4.1-1) stable; urgency=low

  * patch opsicliend.conf: [depot_server]: user (from config clientconfig

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 20 Dec 2013 15:00:00 +0100

opsi-client-agent (4.0.3.1-5) stable; urgency=low

  * Do not install opsi-gina when loginblockerstart is off

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 16 Mai 2013 13:00:00 +0100

opsi-client-agent (4.0.3.1-4) stable; urgency=low

  * experimental replace '_' by '-' for pc name

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 02 Mai 2013 15:00:00 +0100

opsi-client-agent (4.0.3.1-3) stable; urgency=low

  * cleanup vcredist files on data partition

 -- Detlef Oertel <d.oertel@uib.de>  Tue, 09 Apr 2013 15:00:00 +0100



[[opsi-404-releasenotes-misc-changelogs-opsi-winst]]
==== Changelog opsi-winst

opsi-winst (4.11.3.11) stable; urgency=low

* fix: use of sysnative with winbatch

-- Detlef Oertel <d.oertel@uib.de>  Fri,  8 Nov 2013:15:00:00 +0200

opsi-winst (4.11.3.10) stable; urgency=low

* manifest extended for win 8.1: 

http://msdn.microsoft.com/en-us/library/windows/desktop/dn302074%28v=vs.85%29.aspx

-- Detlef Oertel <d.oertel@uib.de>  Tue,  22 Oct 2013:15:00:00 +0200

opsi-winst (4.11.3.9) stable; urgency=low

  * Patchtextfile: no trim of searchstrings: use gestringA instead of getString
  * wilog: all log strings are cut to max 500 chars

-- Detlef Oertel <d.oertel@uib.de>  Thu,  02 Sep 2013:15:00:00 +0200

opsi-winst (4.11.3.8-2) stable; urgency=low

  * Fix in internal Version: now 4.11.3.8

-- Detlef Oertel <d.oertel@uib.de>  Fri,  02 Aug 2013:15:00:00 +0200

opsi-winst (4.11.3.8) stable; urgency=low

  * changed TOpsiMethodCall.getJsonHashListString: converting string with SO before assingment

-- Detlef Oertel <d.oertel@uib.de>  Thu,  01 Aug 2013:15:00:00 +0200

opsi-winst (4.11.3.7) stable; urgency=low

  * changed DsiWin32 to work with lazarus 1.0.8/fpc 2.6.2
  * new command: isSuccess : Terminates Script execution with out error
  * new command: noUpdateScript : Do not run a update after setup script even if it is there and we are not failed
  * new function emptylist
  * new function getlistcontainingList

-- Detlef Oertel <d.oertel@uib.de>  Tue,  29 Jul 2013:15:00:00 +0200

[[opsi-404-releasenotes-misc-changelogs-windows-netboot]]
==== Changelog windows netboot products

windows (4.0.4-1) stable; urgency=low

	* UCS 3.2 Errata 4 fix: mount share from PE with valid domain:
		shareusername via webservice from clientconfig.depot.user

 -- detlef oertel <d.oertel@uib.de>  Thu, 16 Jan 2014 16:01:53 +0200

windows (4.0.3-7) stable; urgency=low

  * replace self._forceReReadPartionTable() by disk._forceReReadPartionTable()

 -- uib GmbH <info@uib.de>  Tue, 03 Sep 2013 15:19:15 +0000

windows (4.0.3-6) stable; urgency=low

  * new version 4.0.3.1 of create_driver_links.py with 7zip Patch (#507) and syntax error patch (do 28.6.)

 -- uib GmbH <info@uib.de>  Tue, 28 June 2013 15:19:15 +0000

windows (4.0.3-5) stable; urgency=low

  * check existence of winpe partition with retries before making filesystem (copied from posix.py)
  * Default for pre_format_system_partitions is now 'true'

 -- uib GmbH <info@uib.de>  Tue, 06 June 2013 15:19:15 +0000

windows (4.0.3-4) stable; urgency=low

  * remove property: delete_partition_table (always/if_needed/never) (default=always)
  * new property: data_partition_preserve (always/if_possible/never) (default=never)

 -- uib GmbH <info@uib.de>  Tue, 09 Apr 2013 15:19:15 +0000

windows (4.0.3-3) stable; urgency=low

  * new property: delete_partition_table (always/if_needed/never) (default=always)
  * new property: preformat boot and system partition

 -- uib GmbH <info@uib.de>  Wed, 20 Mar 2013 15:19:15 +0000

windows (4.0.3-2) stable; urgency=low

  * fix in logging in real uefi mode

 -- uib GmbH <info@uib.de>  Thu, 11 Mar 2013 15:19:15 +0000

[[opsi-404-releasenotes-misc-changelogs-python-opsi]]
==== Changelog python-opsi

python-opsi (4.0.4.5-2) stable; urgency=low

  * Fixes in unicode function of objects.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sun, 09 Feb 2014 02:08:54 +0100

python-opsi (4.0.4.5-1) stable; urgency=low

  * set of small fixes.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 07 Feb 2014 02:10:23 +0100

python-opsi (4.0.4.4-1) testing; urgency=low

  * added geo_override patch for older bios (opsi-linux-bootimage)
  * removed debug outputs from repository.py
  * SQL backend: tables PRODUCT_PROPERTY and BOOT_CONFIGURATION now use type
    TEXT for column 'description'
  * Harddisks have a new attribute 'rotational'.
  * MySQL backend: table 'HOST': using DEFAULT value for column 'created' to
    avoid using the values given by MySQL. These values did result in a
    unwanted misbehaviour where clients always updated their 'created'
    attribute to the time of the last update.
  * Removed workarounds for Python versions prior to 2.6
  * New depot selection alogrith: Select the depot with lowest latency that
    either is or belongs to the master depot the client is attached to.
  * New module: OPSI.Util.Task.CleanupBackend
  * Suppressing DeprecationWarning from ldaptor.
  * Bugfix in HTTPRepository.
  * Workarround for Windows 8.1 detection.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 29 Jan 2014 01:22:18 +0100
 
python-opsi (4.0.4.3-1) testing; urgency=low

  * Small bugfix for objectToBeautifiedText Method.

 -- Erol Ueluekmen <e.ueluekmen@uib.>  Fri, 20 Dec 2013 18:11:37 +0100
 
python-opsi (4.0.4.2-1) testing; urgency=low

  * objectToBeautifiedText optimization.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 11 Dec 2013 11:02:06 +0100

python-opsi (4.0.4.1-1) testing; urgency=low

  * Minimum required Python version is now 2.6
  * New backend method for configed: setRights
  * Tar archives: make use of pigz for parallel gzip compression if available.
    Requires pigz version >2.2.3
  * File backend: Added options to configure user/group the files belong to.
  * Bugfix: Added missing import to prevent "opsi-setup --renew-opsiconfd-cert"
    from crashing
  * Bugfix: Do not fail when reading distribution information from an UCS
    system.
  * Bugfix in posix.py for precise
  * Remove loading geo_override kernel patch
  * Fixing mountoptions handling for cifs-mount
  * Added Transaction control for sql-backends for prevent of duplicate entries in productProperty-Defaultvalues. (fixes #456)
  * New module: OPSI.Util.Task.Certificate

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 12 Sep 2013 11:41:33 +0200

python-opsi (4.0.3.3-1) experimental; urgency=low

  * Fixes for wheezy and raring support
  * System.Windows: Added handling mshotfix for win8 and win2012
  * Moved method formatFileSize from OPSI.web2.dirlist to OPSI.Util
  * Added 40_groupActions.conf in opsi-webservice-extender
  * Modified debian postinst script (user opsiconfd will be created if not exists)

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 03 Jun 2013 11:41:33 +0200

python-opsi (4.0.3.2-1) experimental; urgency=low

  * Don't load geo_override module on 64bit bootimage.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 29 Apr 2013 16:13:16 +0200
 
[[opsi-404-releasenotes-misc-changelogs-opsipxeconfd]]
==== Changelog opsipxeconfd

opsipxeconfd (4.0.4.1-2) testing; urgency=low

  * version modified for buildservice

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 05 Nov 2013 15:18:59 +0100

opsipxeconfd (4.0.4.1-1) testing; urgency=low

  * Specified user / group to use for logrotate 3.8 or newer

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Aug 2013 11:58:55 +0200


[[opsi-404-releasenotes-misc-changelogs-opsiconfd]]
==== Changelog opsiconfd

opsiconfd (4.0.4.3-1) testing; urgency=low

  * webstart service modified for signed jar support.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 07 Jan 2014 16:03:46 +0100

opsiconfd (4.0.4.2-1) testing; urgency=low

  * Consistent ownership of logfiles: all are now owned by opsiadmin

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 28 Nov 2013 15:02:49 +0100

opsiconfd (4.0.4.1-2) testing; urgency=low

  * version modified for buildservice

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 05 Nov 2013 15:16:31 +0100

opsiconfd (4.0.4.1-1) testing; urgency=low

  * Internals: re-organised imports to work with newer python-opsi.
  * Specified user / group to use for logrotate 3.8 or newer
  * fixed java webstart problem for internet explorer.
  * configed.jnlp: max-heap-space set to 768M.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 23 Oct 2013 14:23:17 +0200

opsiconfd (4.0.3.2-1) experimental; urgency=low

  * resource.py: max-heap-size increased to 1024M.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 29 May 2013 16:21:39 +0200

[[opsi-404-releasenotes-misc-changelogs-opsi-utils]]
==== Changelog opsi-utils

opsi-utils (4.0.4.1-2) testing; urgency=low

  * version modified for buildservice

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 05 Nov 2013 15:22:52 +0100

opsi-utils (4.0.4.1-1) testing; urgency=low

  * opsi-admin: Code cleanups resulting in an depending on python-opsi 4.0.3.4
  * added manpages
  * added includeProductIds in repostory-configuration for opsi-product-updater.conf

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 22 Oct 2013 11:31:19 +0200
 
opsi-utils (4.0.3.2-1) testing; urgency=low

  * opsi-admin: added task uninstallWhereInstalled

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 06 Sep 2013 10:04:53 +0200


[[opsi-404-releasenotes-misc-changelogs-opsi-linux-bootimage]]
==== Changelog opsi-linux-bootimage

opsi-linux-bootimage (20140118-1) stable; urgency=low

  * partclone added for 64bit version.
  * kernel 3.10.27
  * Shipping 32 and 64bit version with opsi-linux-bootimage package
  * install3264 integrated in build process. Now package supports pxetemplates: install (x86), install-x64 and install3264 (for both: A productProperty with name: archictecture  in netbootproduct is needed to use this pxetemplate.)

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 29 Jan 2014 00:40:56 +0100

opsi-linux-bootimage (20131219-1) experimental; urgency=low

  * Try to fix endless loop by transfering files from cifs-share.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 19 Dec 2013 15:59:50 +0100

opsi-linux-bootimage (20131216-1) experimental; urgency=low

  * QuickFix: clientconfig.depot.user handling added (for domain\user splitting)

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 16 Dec 2013 11:04:33 +0100

opsi-linux-bootimage (20131121-1) testing; urgency=low

  * Fix error "bool object is not callable" when using pre-exec parameter"

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 21 Nov 2013 23:26:51 +0100

opsi-linux-bootimage (20131106-1) testing; urgency=low

  * Added pre-script parameter.
  * Added previously removed geo_override patch for older bios-versions
  * added python-opsi: 4.0.4.2-1
  * added tftp client

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 06 Nov 2013 13:25:28 +0100

opsi-linux-bootimage (20131021-1) testing; urgency=low

  * Fixes in pre-execute handling
  * fixes from python-opsi: 4.0.4.1-1
  * EFI-stub added for kernel compile instructions

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 21 Oct 2013 15:02:53 +0200

opsi-linux-bootimage (20130920-1) experimental; urgency=low

  * kernel 3.10.10
  * python-opsi: 4.0.4.1-1
  * added pre-execute handling

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 23 Sep 2013 04:19:32 +0200

opsi-linux-bootimage (20130207-2) experimental; urgency=low

  * Quick Hack for Bios-Versions, that have only a option for "RAID+AHCI"
    - this devices will be shown as RAID mode Devices in lshw output

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 22 Apr 2013 15:41:29 +0200


[[opsi-404-releasenotes-misc-changelogs-opsi-depotserver]]
==== Changelog opsi-depotserver

opsi-depotserver (4.0.4.3-1) stable; urgency=low

  * Do not duplicate the lines of the sudoers file.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 05 Feb 2014 10:30:15 +0100

opsi-depotserver (4.0.4.2-3) testing; urgency=low

  * debian postinst patch: don't fail if nothing is found

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 16 Dec 2013 15:29:05 +0100

opsi-depotserver (4.0.4.2-2) testing; urgency=low

  * Correctly checking for running Oracle mysqld / usage of MySQL backend.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 16 Dec 2013 14:16:02 +0100

opsi-depotserver (4.0.4.2-1) testing; urgency=low

  * opsi-setup: small fix for --edit-config-defaults

 -- Erol ueluekmen <e.ueluekmen@uib.de>  Wed, 11 Dec 2013 03:38:29 +0100

opsi-depotserver (4.0.4.1-2) testing; urgency=low

  * version modified for buildservice

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 05 Nov 2013 15:25:29 +0100

opsi-depotserver (4.0.4.1-1) testing; urgency=low

  * opsi-setup: Making use of new module OPSI.Util.Task.Certificate
  * opsi-set-rights: new wrapper script added for opsi-setup --set-rights

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 07 Oct 2013 08:25:38 +0200

opsi-depotserver (4.0.3.4-1) experimental; urgency=low

  * opsi-setup: Ignoring entries of configed.saved_search in
                --edit-config-defaults
  * opsi-setup: Truncating long value entries if they are longer than 60
                characters
  * opsi-setup: added SMB-Shares: opsi_depot_rw and opsi_images

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 03 Sep 2013 12:50:37 +0200

opsi-depotserver (4.0.3.3-1) experimental; urgency=low

  * opsi-setup: cleanupBackend fixes now duplicate productProperty default values in mysql-backend
                new option --patch-sudoers-file

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 31 May 2013 17:05:07 +0200

[[opsi-404-releasenotes-misc-changelogs-opsi4ucs]]
==== Changelog opsi4ucs

opsi4ucs (4.0.4.6-1) stable; urgency=low

  * small fix for --init-current-config in opsi-setup
  * fix in joinscript for samba4 detection

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 19 Feb 2014 09:14:15 +0100

opsi4ucs (4.0.4.5-1) stable; urgency=low

  * Do not duplicate the lines of the sudoers file.
  * Added new config clientconfig.depot.user
  * Fixing installation on member-server

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 11 Feb 2014 16:14:15 +0100

opsi4ucs (4.0.4.4-1) testing; urgency=low

  * Changed firewall rules on UCS3 to ucr variables (fix for UCS 3.2 support)

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 14 Nov 2013 16:56:42 +0100

opsi4ucs (4.0.4.3-1) testing; urgency=low

  * fixing opsi-setup bug
  * 99opsi4ucs.inst: only setting opsifileadmins group when ucs version > 3 and samba version 4 is found
  * update-mysql: Alter table to support very long descriptions.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 12 Nov 2013 10:11:42 +0100

opsi4ucs (4.0.4.2-1) testing; urgency=low

  * opsi-setup: fix for automatic registering depot by the joinscript.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 06 Nov 2013 10:26:02 +0100

opsi4ucs (4.0.4.1-2) testing; urgency=low

  * opsi-set-rights added.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 05 Nov 2013 15:10:02 +0100

opsi4ucs (4.0.4.1-1) testing; urgency=low

  * join Script: Fixing executable-Bit problem for opsi_depot Share
  * Removing opt_pcbin-Share
  * Adding opsi_depot_rw and opsi_images Share
 
[[opsi-404-releasenotes-opsi-configed]]
==== Changelog opsi-configed

 * bugfix in start routines

 -- Rupert Roeder <r.roeder@uib.de>  Wed, 19 Sep 2013 10:56:24 +0200

  * other opsiclientd events callable from configed

 -- Rupert Roeder <r.roeder@uib.de>  Tue, 17 Sep 2013 16:56:24 +0200

  * new invokeLater construct to try to avoid gui thread problem

 -- Rupert Roeder <r.roeder@uib.de>  Tue, 17 Sep 2013 12:56:24 +0200

  * menu entries for client adding and removing can be disabled by a configed
  * product action page with package installation and completing a win product ready

 -- Rupert Roeder <r.roeder@uib.de>  Mon, 16 Sep 2013 17:02:14 +0200

  * product action page implemented with package installation and completing a windows product
  * improved startup thread handling

 -- Rupert Roeder <r.roeder@uib.de>  Mon, 28 Aug 2013 14:00:00 +0200

opsi-configed (4.0.3.4.9-1) testing;  urgency=low

  * general exception handler set
  * new client call deleteProductCaches

 -- Rupert Roeder <r.roeder@uib.de>  Mon, 19 Aug 2013 14:00:00 +0200

  * tree reload bugs eliminated (redmine #511)

 -- Rupert Roeder <r.roeder@uib.de>  Fri, 26 Jul 2013 14:00:00 +0200

  * null pointer exception repaired which prevented subgroups of GROUPS

 -- Rupert Roeder <r.roeder@uib.de>  Tue, 23 Jul 2013 14:00:00 +0200

  * experimental Polish, Spanish, and Russian localization

 -- Rupert Roeder <r.roeder@uib.de>  Mon, 08 Jul 2013 14:00:00 +0200

  * product sorting of product list reconfigured to secondary strength in
    order to distinguish products by hyphens

 -- Rupert Roeder <r.roeder@uib.de>  Tue, 18 Jun 2013 14:00:00 +0200

  * group action for local image restore

 -- Rupert Roeder <r.roeder@uib.de>  Mon, 17 Jun 2013 14:00:00 +0200

  * concept for locally saving session data introduced
  * first usage for saving the selected depots and saving a selected group
  * fixing a bug in group selection

 -- Rupert Roeder <r.roeder@uib.de>  Thu, 13 Jun 2013 14:00:00 +0200

  * experimental synced data model completed for product_on_client

 -- Rupert Roeder <r.roeder@uib.de>  Wed, 31 May 2013 14:00:00 +0200

  * fixed: product list is reloaded when changing depot (representative)
  * the data for searching are now cached (with some exception behalf of memory problems)

 -- Rupert Roeder <r.roeder@uib.de>  Wed, 29 May 2013 14:00:00 +0200

  * fixed: setting again an old value of a host is now possible
  * implementing some variations of loading PRODUCT_ON_CLIENT with performance
  tests

 -- Rupert Roeder <r.roeder@uib.de>  Wed, 22 May 2013 14:00:00 +0200

  * fixed: now keeping installation state table model when directly returning to the same table
  * trying to get construction of installation state table modle more efficient

 -- Rupert Roeder <r.roeder@uib.de>  Wed, 20 Mar 2013 16:00:00 +0200

  * fixed: now updating product table after saving by context menu

 -- Rupert Roeder <r.roeder@uib.de>  Wed, 20 Mar 2013 16:00:00 +0200

  * more efficient webservice call for getting productOnClients
  * setting requested heap space to 1024m

 -- Rupert Roeder <r.roeder@uib.de>  Thu, 14 Mar 2013 16:00:00 +0200

[[opsi-404-releasenotes-opsi-swaudit]]
==== Changelog opsi-swaudit

 
 swaudit (4.0.2-3) stable; urgency=low

  * Fix duplicate entry: truncating all parts of the primary key to their max length in the DB: "name="+strPart($name$,"1","99")
  * ScriptErrorMessages = off

 -- detlef oertel <d.oertel@uib.de>  Mon, 05 Aug 2013 15:00:00 +0100


swaudit (4.0.2-2) stable; urgency=low

  * switch to ekeyfinder (https://sourceforge.net/projects/ekeyfinder/)

 -- detlef oertel <d.oertel@uib.de>  Thu, 06 Dec 2012 15:00:00 +0100

