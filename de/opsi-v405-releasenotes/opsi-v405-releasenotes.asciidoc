////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; http://creativecommons.org/licenses/by-sa/3.0/de/
; http://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; http://creativecommons.org/licenses/by-sa/3.0/
; http://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: http://www.opsi.org/credits/
////

////
;***************************************************************************
; Subversion:
; $Revision$ $Author$
; $Date$
;***************************************************************************
////

:Author:    uib gmbh
:Email:     info@uib.de
:Revision:  4.0.5
:doctype:   book

// Include common opsi terms
include::../common/opsi_terms.asciidoc[]

= opsi Version 4.0.5 Release Notes

// Include common opsi copyright
include::../common/opsi_manual_copyright.asciidoc[]

[[opsi-405-releasenotes-overview]]
== Übersicht der Neuerungen

Das opsi Service Releases 4.0.5 weist eine Fülle von Neuerungen und Detailverbesserungen auf. Hier eine Übersicht:

* Ab opsi 4.0.5 werden (ausschließlich) folgende Distributionen als opsi-server unterstützt: +
** Ubuntu: 10.04 (Lucid), 12.04 (Precise), 14.04 (Trusty)
** Debian: 6.0 (Squeeze), 7.0 (Wheezy)
** UCS 3.2
** openSUSE 12.3, 13.1
** SLES 11SP3
** RHEL 6.6, 7
** CentOS 6.5, 7

IMPORTANT:  Der opsi-configed ab Version 4.0.5.x benötigt mindestens die Java-Version 1.7.0.

Sollten Sie opsi auf einer Betriebssystemversion einsetzen, welche oben nicht aufgeführt ist,
so empfehlen wir Ihnen ein Betriebsystem-Update bevor Sie opsi v4.0.5 einspielen.


* opsi Serverkomponenten: +
Diverse Verbesserungen und Bugfixes in den Serverpaketen.

* Neues opsi-bootimage basierend auf Ubuntu Precise / Kernel 3.15.1 mit Unterstützung für aktuelle Hardware (wie z.B Tablets), UEFI Support und Unterstützung für Linux Festplattenverschlüsselung.

* Windows Netboot Produkte +
** Treiberintegration per 'byAudit' nun auch nach 'vendor' und 'model' des Motherboards
** Soweit sinnvoll volle UEFI/GPT Kompatibilität
** Neues Property 'setup_after_install' zur Ablauf Automatisierung.
** Unterstützung von HP SmartArray RAID Controllern

* opsi-winst / opsi-script (4.11.4.10): +

** Logging jetzt nach c:\opsi.org\log\opsi-script.log

** Neue Konstanten:

*** `%opsiDepotId%` : Depotserver // since 4.11.4

*** `%opsiTmpDir%` : `c:\opsi.org\tmp` // since 4.11.4.3

*** `%opsiLogDir%` : `c:\opsi.org\log` // since 4.11.4.3

** Neue Funktionen zum Umgang mit key/value Paaren in Konfigurationsdateien:

*** Stringfunktion: `getValueFromFile(`<key string>, <file name>`)` //since 4.11.4.4 [W/L]

*** Stringfunktion: `getValueFromFileBySeparator(`<key string>,<separator string>,<file name>`)` //since 4.11.4.4 [W/L]

*** PatchTextFile Sektionskommandos:

*** `setKeyValueSeparator` <separator char> //since 4.11.4.4 [W/L]

*** `setValueByKey` <keystr> <valuestr> //since 4.11.4.4 [W/L]

** Encoding Funktionen (Handbuch lesen !):

*** string function `reencodestr(` <str> , <from>, <to> `)`

*** stringlist function `reencodestrlist(` <strlist> , <from>, <to> `)`

** Aktivitätanzeige:

*** Bei `winbatch` Sektionen mit `/timeout` wird der Zeitablauf bis zum Timeout über den Fortschrittsbalken angezeigt.

*** Neuer Schalter: `AutoActivityDisplay` = (true/false) default=false; Wenn true wird ein (marquee) Fortschrittsbalken (der Endlos durch läuft) angezeigt während des Laufs von winbatch/dosbatch Sektionen.

*** Neuer parameter für DosInAnIcon/ShellInAnIcon: `/showoutput` : Zeigt ein Ausgabefenster mit den Ausgaben der aufgerufenen Kommandos.

** Sonstiges:

*** `saveTextFile(`<list>, < filename>`)` //since 4.11.4.4 [W/L]

*** stringlist function `shellCall(` <cmd> `)` ; returns the output of (sysnative) shell with cmd

*** Befehl `IncludeLog` jetzt mit zusätzlichen encoding Parameter

*** Neue string function: `strLoadTextFile (` <filename> `)`

*** Neue boolsche function: `LineContaining_ExistsIn(` <string>, <file name> `)`

* Sonstige Produkte: +

** Fixes in swaudit

* opsi-configed: +

** Die (Depot-)Server Defaults der Produktproperties können jetzt über den configed gesetzt werden.

** Umfangreich überarbeitete Version: Siehe gesondertes Kapitel.

* opsi Linux Unterstützung: +
Siehe gesondertes Kapitel.

* opsi uefi (Netboot) Unterstützung: +
Siehe gesondertes Kapitel.

* Images mit opsi clonezilla: +
Siehe gesondertes Kapitel.

* opsi Erweiterung opsi-local-image (für Schulungsräume): +
Siehe gesondertes Kapitel.

* opsi-setup-detector (Automatisierte Erstellung von opsi Paketen): +
Siehe gesondertes Kapitel.

* opsi-client-agent: +
** Fixes für Windows 8.x (Loginblocker)

////
Für Details lesen Sie bitte das opsi-v405-releasenotes Handbuch bzw. die überarbeiteten opsi Handbücher.
////

[[opsi-405-releasenotes-knownbugs]]
== Known Bugs / Known Problems


.KNOWN BUGS:

* openSUSE 13.1, CentOS 70: +
Aufgrund des geänderten Netzwerkinterface Namensschemas wird die Netzmaske evtl. falsch ausgelesen.

* opsi-clonezilla: +
Das Handling von Linux Systemen (ext filesystem) funktioniert noch nicht.

.KNOWN PROBLEMS:

* configed: +
Auf XP-Rechnern ist mit hoher Wahrscheinlichkeit die WebStart-Version nicht funktionsfähig,
da sie einen Maximalspeicherbedarf von 1000 MB anmeldet, die XP-Rechner,
selbst wenn der Speicher vorhanden ist, regelmäßig nicht anbieten. Wir empfehlen das opsi-Localboot-Produkt
opsi-configed zu verwenden und die Produkt-Property "memory_requirement" für den Rechner z.B. auf 512 MB herabzusetzen.

* opsipxeconfd: +
Unter RHEL / CentOS gibt es beim Upgrade nach opsi 4.0.5 Warnungen.

* opsi-linux-bootimage: +
Durch Änderungen in lshw kann es sein, dass sich die von einem Rechner ausgelesene Modellbezeichnung ändert. Das kann zu unerwartetem Verhalten bei der Treiberintegration führen, falls diese auf dem Modellnamen basiert.


[[opsi-405-releasenotes-samba4]]
== Samba 4

Die ersten Distributionen werden nun mit Samba 4 ausgeliefert.

Aktuell werden Ubuntu 14.04 und openSuse 13.1 mit Samba 4 Paketen ausgeliefert. Diese Pakete sind von sich aus nicht dazu geeignet ganze Domänen zu verwalten, haben aber bei den Freigaben das Verhalten von Samba 4.

In Samba 3 war es allgemein erlaubt, jede Datei oder Verzeichnis auf den Clients auszuführen. Dieses Verhalten wurde in Samba 4 komplett verändert. Nun müssen alle Dateien, die über den Share ausführbar sein sollen, auch auf der Unix-Seite das Executable-Bit setzen.

Dies stellt ein allgemeines Problem für den Betrieb von opsi dar. Es ist nicht möglich dieses Verhalten über die Rechteverwaltung von opsi zu umgehen, da dies eine komplette Überarbeitung des Rechtesystems von opsi erfordern würde. Dies ist in opsi 4 nicht möglich.

Um das Problem mit opsi 4.0 dennoch zu umgehen, gibt es zwei Möglichkeiten.

**Variante 1:** auf den betroffenen Freigaben kann über die Freigabenkonfiguration über die Option:
admin users = @pcpatch

für jedes Mitglied der pcpatch-Gruppe (Freigaben-User) dieses Verhalten ausgehebelt werden. Diesen Fix setzt opsi schon seit längerem auch bei UCS >= 3 mit Samba 4 ein. Bei diesem Fix wird der Samba-Prozess der User mit erhöhten Rechten ausgeführt.

opsi setzt automatisch bei Samba 4 Distributionen über opsi-setup --auto-configure-samba diese Option für den opsi_depot Share. Da dieser nur readonly gemounted wird, ist das Sicherheitsrisiko relativ gering.

**Variante 2:** Man kann global folgende Option in der smb.conf setzen:
allow general executable = True

Durch diese Option wird für alle Freigaben das Verhalten von Samba 3 wiederhergestellt.

Sollte es gewünscht sein, dass die anderen Shares von diesem Problem nicht mehr betroffen sind, kann man entweder die erste Variante für jeden Share manuell setzen oder die Option von Variante zwei global in die smb.conf setzen. Die zweite Option gilt dann aber für alle Freigaben, auch für die, die nicht von und für opsi bereitgestellt werden.

[[opsi-405-releasenotes-eol]]
== Abkündigung

In diesem Kapitel werden die Abkündigungen aufgelistet. Diese Distributionsversionen werden aus verschiedenen Gründen nicht mehr weiter von opsi unterstützt.

[[opsi-405-releasenotes-eol_windows]]
=== Abkündigung: Windows Versionen

Ab opsi v 4.0.5 werden wir die Netbootpakete für Windows Vista und Server 2008 nicht mehr weiter pflegen. Ebenso planen wir für diese Windowsversionen die Unterstützung in den Update Abo's einzustellen. Wer hierzu Fragen oder Probleme hat möge sich bei uns melden.

Windows XP / Server 2003 ist bekanntermaßen von Microsoft nicht mehr (bzw. Windows 2003 eingeschränkt) unterstützt. Wir werden, wegen der weiten Verbreitung, diese Pakete noch eine Zeitlang pflegen. Trotzdem kündigen wir auch hier an, diese Pflege in absehbarer Zeit einzustellen und empfehlen Ihnen dringend den Wechsel auf eine neuere Windows Version (oder Linux).

[[opsi-405-releasenotes-eol_opsiprod]]
=== Abkündigung: opsi Produkte

Ab opsi v 4.0.5 werden die opsi Produkte

* ntfs-write-image

* ntfs-restore-image

nicht mehr unterstützt. Diese Produkte werden in ihrer Funktionalität durch das neue Produkt opsi-clonezilla ersetzt (Siehe gesondertes Kapitel).

[[opsi-405-releasenotes-eol_python25]]
=== Abkündigung der Python 2.5 Unterstützung

Die nicht mehr mit Updates versorgte Python-Version 2.5 wird nicht mehr unterstützt. Opsi benötigt Python 2.6 oder Python 2.7.

[[opsi-405-releasenotes-installation]]
== Hinweise zur Installation

Wir empfehlen vor der Installation des Updates (sicherheitshalber) mit opsi-backup eine Sicherung Ihres Backends durchzuführen:
[source,prompt]
----
opsi-backup create
----


Die Produkte welche im Rahmen dieses Releases veröffentlicht werden, sind in etlichen Teilen voneinander abhängig. Sie sollten daher nicht versuchen nur Teile zu installieren.

Sie sollten dabei zuerst den Server updaten und danach die opsi-Produkte.

Beim Update eines bestehenden opsi-Servers kann es vorkommen, dass eine neue Version `/etc/opsi/opsi.conf` eingespielt werden kann und der Paketmanager Ihres Systems Sie fragt, wie vorgegangen werden soll.
Falls eine solche Nachfrage kommt und Sie diese Datei nicht geändert haben, so können Sie diese Datei gefahrlos durch die neue Version ersetzen.
Falls Sie die Datei geändert haben oder sich unsicher sind, verweigern Sie das Ersetzen bitte.

Wir empfehlen nach dem Update die Ausführung von ``opsi-setup --set-rights``, um sicher zu stellen, dass die Berechtigungen in den verwendeten Ordnern korrekt sind. Die Ausführung des Befehls kann mehrere Minuten in Anspruch nehmen.

[[opsi-405-releasenotes-aktualisierung-opsivm]]
=== Hinweise zur Aktualisierung der opsi server vm Version 4.0.4

Beim Aktualisieren des 'opsi-depotserver' Paketes kann es sein, dass Sie die Daten für das SSL-Zertifikat erneut eingeben müssen.

[[opsi-405-releasenotes-installation-rhel-centos]]
=== Hinweise zur Aktualisierung unter RHEL / CentOS

Ab Version 4.0.5 wird python-opsi keine Abhängigkeit mehr auf 'python-mysql' haben, sondern das in den Standard-Repositories befindliche 'MySQL-python' verwenden.

Bei der Aktualisierung von opsi kann es dadurch zu Konflikten kommen. Um das zu vermeiden, entfernen Sie bitte vorher 'python-mysql':

[source,prompt]
----
rpm -e --nodeps python-mysql
----


[[opsi-405-releasenotes-installation-opsipackages]]
=== Hinweise zum Aktualisieren von opsi-Paketen

////
Bitte nachstehenden Block bei release nicht löschen sondern auskommentieren
////
Zur Installation der testing Serverpakete müssen Sie das opsi Repository ändern von `opsi40` auf `opsi40-testing`. +
Zum Beispiel bei Ubuntu 12.04: +
`deb http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40/xUbuntu_12.04 ./` +
ersetzen durch: +
`deb http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40-testing/xUbuntu_12.04 ./`

Danach müssen Sie Ihre Pakete updaten. +
Zum Beispiel bei Ubuntu / Debian:
[source,prompt]
----
aptitude update
aptitude full-upgrade
----

Zur Installation der testing opsi Produkte
[source,prompt]
----
cd /home/opsiproducts
mkdir opsi-v405
cd opsi-v405
# Standard Pakete:
wget -r -l1 -nc -nd -A "*.opsi" http://download.uib.de/opsi4.0/testing/opsi-v405/products/
# opsi-local-image Pakete:
wget -r -l1 -nc -nd -A "*.opsi" http://download.uib.de/opsi4.0/testing/opsi-v405/opsi-local-image/
# opsi-linux Pakete:
wget -r -l1 -nc -nd -A "*.opsi" http://download.uib.de/opsi4.0/testing/opsi-v405/opsi-linux/
opsi-package-manager -i *.opsi
----
Sollte der wget Befehl scheitern, so muss evtl. die Umgebungsvariable http_proxy auf den korrekten Proxystring gesetzt werden (z.B. http_proxy=http://192.168.1.5:8080/)


Eine andere (bessere) Möglichkeit ist es in die `/etc/opsi/opsi-product-updater.conf`
in der Sektion `[repository_uib]` folgende Zeile zu setzen:
[source,prompt]
----
dirs = opsi4.0/testing/opsi-v405/products, opsi4.0/testing/opsi-v405/opsi-local-image, opsi4.0/testing/opsi-v405/opsi-linux
----
Danach rufen sie den opsi-product-updater auf.
Um alle Pakete zu installieren:
[source,prompt]
----
opsi-product-updater -i -vv
----

Um nur Updates zu installieren:
[source,prompt]
----
opsi-product-updater -vv
----

////
Bitte vorstehenden Block bei release nicht löschen sondern auskommentieren
////
////

Die Installation erfordert keine besonderen Arbeiten. Sie erfolgt im Rahmen der normalen Updates ihres Servers und der opsi-Produkte.

Sie sollten dabei zuerst den Server updaten. Benutzen Sie dazu die Befehle entsprechend Ihrer Linux-Distribution. +
Danach die opsi-Produkte. Dies erledigt der opsi-product-updater:

[source,prompt]
----
opsi-product-updater -i -vv
----
////

Sollten Sie eine Multidepot Umgebung haben, so machen Sie zunächst das Upgrade auf Ihrem config-server, bevor Sie die Depots upgraden.


Falls Sie Produkt-IDs mit einer Länge von mehr als 32 Zeichen verwenden wollen und das MySQL-Backend einsetzen, so führen Sie bitte ein Update der Tabellen-Definition auf Ihrem Config-Server mittels opsi-setup durch:


[source,prompt]
----
opsi-setup --update-mysql
----

[[opsi-405-releasenotes-update-java]]
=== Hinweise zum Aktualisieren der Java-Runtime-Umgebung

Das Management-Interface '{opsi-configed}' benötigt jetzt eine Java Laufzeitumgebung mindestens in Version 7 bzw., wie die interne Versionszählung lautet,
Version 1.7. Auf dem opsi-Server ist Java allerdings nur erforderlich, wenn Sie den '{opsi-configed}' tatsächlich auf dem Server
ausführen möchten, was im Normalfall heißt, dass der Server auch über eine graphische Benutzungsoberfläche verfügen muss.

In diesem Fall müssen Sie, sofern noch das JDK 6 oder niedriger installiert ist, stattdessen das JDK 7 (oder 8) aktivieren. Für Ubuntu
lauten die Befehle

[source,prompt]
----
apt-get remove openjdk-6-jre
apt-get remove openjdk-6-jre-lib
apt-get install openjdk-7-jre
----

Danach sollte

[source,prompt]
----
java -version
----

mindestens Java Version 1.7.0 anzeigen.



[[opsi-configed]]
== opsi-configed 4.0.5.
Mit einer Reihe von Maßnahmen haben wir versucht, die "user experience" des opsi-configed zu verbessern.
Insbesondere wird das Umschalten zwischen verschiedenen Ansichten beschleunigt, indem Daten nach Möglichkeit
vorab geladen und gecacht werden, anstatt dass sie für jede neue Ansicht vom Server angefordert werden.

Für alle Rechner, auf denen der configed laufen soll, ist zu beachten, dass mindestens die Java-Version 1.7.0 vorausgesetzt wird.

[[opsi-405-releasenotes-configed-depotserver-auswahl]]
=== Auswahl der Depot-Server
Bei einem Wechsel auf einen anderen Depot-Server, entfällt die Notwendigkeit einen kompletten Daten-Reaload durchzuführen,
d.h. beim Auswählen eines Depots werden seine Daten sofort geladen. Dazu kommen folgende Buttons:

* (=+) : Alle Depots mit identischen Produkten werden ausgewählt
* (++) : Alle Depots werden ausgewählt (auch mit _Strg-a_ möglich)

.'{opsi-configed}': Auswahl der Depot-Server
image::../images/opsi-configed-depotserver-auswahl.png["{opsi-configed}: Auswahl der Depot-Server", width=250]


[[opsi-405-releasenotes-configed-client-reachable]]
=== Client-Erreichbarkeit
Der Test auf Client-Erreichbarkeit wurde erweitert, so dass er im Hintergrund ablaufen kann
und das Ergebnis jeweils automatisch in der Client-Tabelle anzeigt wird. Das Feature lässt sich
in der Anmeldemaske sowie per Aufrufparameter aktivieren. Default ist ein Test-Intervall von 0 min (= ausgeschaltet).

.'{opsi-configed}': Client erreichbar
image::../images/opsi-configed-client-reachable.png["Client erreichbar",width=10]

.'{opsi-configed}': Client nicht erreichbar
image::../images/opsi-configed-client-unreachable.png["Client nicht erreichbar",width=10]

[[opsi-405-releasenotes-configed-failed-products]]
=== Fehlgeschlagene Aktionen
Aus der Gruppenansicht wurde die ``REPORT: FAILED'' Gruppe entfernt. Als neue Möglichkeit, fehlerhafte Installationen zu suchen, gibt es unter dem Menüpunkt _Auswahl_ die Punkte _Fehlgeschlagene Aktionen bei Produkt..._ und _Fehlgeschlagene Aktionen_ (heute, seit gestern, ...). +
Wählt man den ersten Punkt, erhält man eine Liste aller Produkte. Selektiert man ein Produkt, so werden
alle Clients markiert, bei denen die Installation dieses Produktes fehlgeschlagen ist. +
Wählt man z.B. _Fehlgeschlagene Aktionen_ - _heute_, werden all die Clients markiert, bei denen heute mindestens ein Produkt fehlgeschlagen ist.

.'{opsi-configed}': Fehlgeschlagene Aktionen
image::../images/opsi-configed-failedactions-heute.png["{opsi-configed}: Fehlgeschlagene Aktionen - heute", width=250]

[[opsi-405-releasenotes-configed-product-defaultproperties]]
=== Produkt-Defaultproperties
Um die Defaultwerte der Produkte für einzelne oder mehrere opsi-depots zu ändern, gibt es einen neuen Reiter _Produkt-Defaultproperties_. Dieser wird erst auswählbar, wenn man zur Depotkonfiguration (zweiter Button oben rechts) wechselt. +
In der Haupttabelle werden alle Produkte mit der Produkt-Version und der Package-Version aufgelistet.
Wählt man ein Produkt aus, so werden, wie aus der Client-Produktkonfiguration gewohnt, rechts oben die allgemeinen Informationen zum Produkt-Paket angezeigt. Darunter befindet sich die Auflistung aller Depots, die das ausgewählte Produkt besitzen.
Die unterhalb befindliche Tabelle mit den Property-Schlüsseln und Werten ist
ebenfalls bekannt aus der Client-Produktkonfiguration.

[[image-configed-product-defaultproperties]]
.'{opsi-configed}': Produkt-Defaultproperties
image::../images/opsi-configed-produkt-defaultproperties-jedit-verschiedene-werte.png["{opsi-configed}: Produkt-Defaultproperties: jEdit", width=500]
Man kann ein oder mehrere Depots auswählen, um die Defaultwerte (d.h. die Depotwerte) des Produktes zu ändern. Als Voreinstellung werden alle verfügbaren Depots ausgewählt. Mit den üblichen Tastenkombinationen (_Strg-a_, _Strg-Klick_ oder _Shift-Klick_) lassen sich mehrere bzw. alle Clients markieren. +
Ist der Property-Wert ausgegraut (siehe <<image-configed-product-defaultproperties>> - ``gui_language''), so sind auf den ausgewählten Depots verschiedene Werte für diese Property gesetzt. Rechts neben den Depots befinden sich drei Buttons:

* (=+): Markiere alle Depots mit identischen Werten  +
Alle Depots, die die gleichen Default-Werte haben, werden markiert.
* (++): Alle Depots werden markiert.
* (Weltkugel): Setze die Paket-Default-Werte +
Die Original-Paket-Werte des Produkts werden für das/die ausgewählte/n Depot/s gesetzt.

[[opsi-405-releasenotes-bootimage]]
== opsi-linux-bootimage

Das opsi-linux-bootimage wurde komplett überarbeitet. Zunächst wurde das Bootimage auf Ubuntu 12.04 aktualisiert. Dieser Schritt war nötig, da viele Funktionen, die für die neuen Module von opsi benötigt werden, nicht mehr in Ubuntu 10.04 zur Verfügung stehen.

Somit wurden alle Teile des Bootimage auf einen neuen Stand aktualisiert.

[[opsi-405-releasenotes-bootimage-byaudit-fallback]]
=== Fallback für byAudit

opsi hat seit längerem das Feature, die Additional-Treiber-Zuweisung automatisiert über die Hardwareinventarisierung durch zu führen. Dieses Feature setzt aber voraus, dass die eingesetzte Hardware sauber vom Hersteller "branded" wurden. Bei größeren OEMs wie Dell, HP oder Fujitsu Siemens, ist das in der Regel auch der Fall.

Es kommt allerdings mittlerweile sehr oft vor, dass ganze Chargen von Hardware über kleinere Lieferanten beschafft werden. Diese haben mit dem Branding der Geräte ein Problem. Bei diesen Clients ist es sehr oft so, dass sie von der Hardware her identisch sind. Wenn man allerdings den Hersteller und das Modell des Geräts ausliest, sind diese Felder meistens leer.

In einem solchen Fall gibt es mit opsi 4.0.5 einen Fallback. Dieser wurde über das Mainboard realisiert. Dies funktioniert vergleichsweise identisch mit der eigentlichen byAudit-Treiberzuweisung, nur dass statt Hersteller und Model vom Gerät, dasselbe Verfahren mit dem Hersteller und dem Namen des Boards angewendet wird.

include::../common/opsi_manual_linux.asciidoc[]

include::../common/opsi_manual_uefi.asciidoc[]

include::../common/opsi_manual_clonezilla.asciidoc[]

include::../common/opsi_manual_local-image.asciidoc[]

include::../common/opsi_manual_setup_detector.asciidoc[]



[[opsi-405-releasenotes-misc]]
== Sonstiges

[[opsi-405-releasenotes-misc-changelogs]]
=== Changelogs:


[[opsi-405-releasenotes-misc-changelogs-opsi-configed]]
==== Changelog opsi-configed

opsi-configed (4.0.5.1.2-1) testing; urgency=low

  * use remoteurl instead of depotserver url for install package as well

 -- rupert roeder <roeder@bonifax.uib.local>  Wed, 22 Aug 2014 09:38:22 +0200

opsi-configed (4.0.5.1.1-1) testing; urgency=low

  * use remoteurl instead of depotserver url

 -- rupert roeder <roeder@bonifax.uib.local>  Wed, 21 Aug 2014 09:38:22 +0200

opsi-configed (4.0.5.1-1) testing; urgency=low

  * redesign of some data structures

 -- rupert roeder <roeder@bonifax.uib.local>  Wed, 20 Aug 2014 09:38:22 +0200

opsi-configed (4.0.4.2.9-1) experimental; urgency=low

  * message window when heap overflow

 -- rupert roeder <roeder@bonifax.uib.local>  Wed, 13 Apr 2014 09:38:22 +0200

opsi-configed (4.0.4.2.7-1) experimental; urgency=low

  * less fat data transmission for swaudit

 -- rupert roeder <roeder@bonifax.uib.local>  Wed, 09 Apr 2014 09:38:22 +0200

opsi-configed (4.0.4.2.5-1) experimental; urgency=low

  * integrating accelerated swaudit into selection methods
  * data loading observer pattern for configed start

 -- rupert roeder <roeder@bonifax.uib.local>  Mon, 01 Apr 2014 14:10:37 +0100

opsi-configed (4.0.4.2.4-1) experimental; urgency=low

  * activity indicator
  * created stub class for remote data
  * several data types included in stub
  * accelerated swaudit function

 -- rupert roeder <roeder@bonifax.uib.local>  Fri, 14 Mar 2014 14:10:37 +0100

opsi-configed (4.0.4.2.3-1) experimental; urgency=low

  * accelerated depot switching
  * other depot issues fixed
  * gzip compression is no default

 -- rupert roeder <roeder@bonifax.uib.local>  Thu, 13 Mar 2014 14:10:37 +0100

[[opsi-405-releasenotes-misc-changelogs-opsi-client-agent]]
==== Changelog opsi-client-agent

opsi-client-agent (4.0.5.1-8) stable; urgency=low

  * opsiclientd 4.0.80
  * setup.ins: switch to fatal on Linux (do)
  * update to opsi-winst 4.11.4.10 (do)

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 23 Sep 2014 03:09:00 +0100

opsi-client-agent (4.0.5.1-7) stable; urgency=low

  * opsiclientd 4.0.79

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 25 Jul 2014 03:09:00 +0100

opsi-client-agent (4.0.5.1-6) stable; urgency=low

  * opsiclientd 4.0.78

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 25 Jul 2014 03:09:00 +0100

opsi-client-agent (4.0.5.1-5) stable; urgency=low

  * fixes in sub_restore_productOnClient for opsi-local-image

-- Detlef Oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 15:00:00 +0100

opsi-client-agent (4.0.5.1-4) stable; urgency=low

  * fixes broken gina chain if
        Winlogon.GinaDLL=thirdpartygina and
        opsi.org\opsi-client-agent] NextGina=msgina.dll setup.py
        fixes # 1100
  * for oli productOnClient restore: restore existing actionrequests=setup after json restore (do)
  * code cleanup (preloginloader) from uninstall (do)

-- Bardo Wolf <b.wolf@uib.de>  Fri, 27 Jun 2014 10:49:00 +0100

opsi-client-agent (4.0.5.1-3) stable; urgency=low

   * for oli productOnClient restore: in opsiServiceCall_get_productOnClient condition "actionRequest":"none"
       So we delete only the localboot products with no actionrequest
   * update to opsenssl 1.0.1h
   * opsi-winst 4.11.4.6
   * fix in setup.py fixes # 1100

-- Detlef Oertel <d.oertel@uib.de>  Wed, 18 Jun 2014 15:00:00 +0100

opsi-client-agent (4.0.5.1-2) stable; urgency=low

   * delete new opsiclientd.conf sections for combination wan/vpn with install by shutdown
   * for oli productOnClient restore: in opsiServiceCall_get_productOnClient condition "actionRequest":"none"
       So we delete only the localboot products with no actionrequest

 -- Karsten Koepke <k.koepke@uib.de>  Thu, 13 Jun 2014 15:00:00 +0100

opsi-client-agent (4.0.5.1-1) stable; urgency=low ; RELEASED

  * added new opsiclientd.conf sections for combination wan/vpn with install by shutdown
  * fix in sub_restore_productOnClient (set bootmode to bkstd )

 -- Miriam Michaelis <m.michaelis@uib.de>  Tue, 10 Jun 2014 15:00:00 +0100

opsi-client-agent (4.0.5-1) stable; urgency=low

  * changed setup.ins (delete loginblocker logfile and timeout file)
  * fix in sub_restore_productOnClient (use $INST_ClientId$ instead of %HostId%)
  * new: in property uac_value new value 0='no change' (experimental)

 -- Miriam Michaelis <m.michaelis@uib.de>  Tue, 29 Apr 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-4) stable; urgency=low

  * opsi-winst 4.11.4.4

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 25 Apr 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-3) stable; urgency=low

  * new opsiloginblocker.dll V1.2.0.5/credential provider filter (no multiple timeouts)
  * new opsigina.dll 1.3.0.2 (no multiple timeouts)
  * fix in lib directory of opsi-winst; https://forum.opsi.org/viewtopic.php?f=6&t=6142
  * sub_restore_productOnClient: restore productOnClient if found in c:\opsi.org\tmp (for capture image use)
  * opsi-winst 4.11.3.11

 -- Miriam Michaelis <m.michaelis@uib.de>  Tue, 18 Mar 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-2) stable; urgency=low

  * opsi-winst 4.11.4.3
  * use of isDriveReady to disable  critical-error-handler message box. (Drive not ready)

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 20 Mar 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-1) stable; urgency=low

  * new credential provider filter with fix for >= nt6.2 opsiloginblocker.dll V1.2.0.2
  * loginblocker logfile written to dir opsi.org\log

 -- Miriam Michaelis <m.michaelis@uib.de>  Tue, 18 Mar 2014 15:00:00 +0100

[[opsi-405-releasenotes-misc-changelogs-opsi-winst]]
==== Changelog opsi-winst

opsi-winst/opsi-script (4.11.4.10) stable; urgency=low

  * osparser: doAktionen: tsIncludeInsert: debug outputs for 'index out of range' bug
  * osparser: LoadValidLinesFromFile : fix add loaded sub lines to FLinesOriginList
      to fix 'index out of range' at tsIncludeInsert
  * osparser: new bool function: LineContaining_ExistsIn(<string>, <file name>)

-- Detlef Oertel <d.oertel@uib.de>  Wed,  01 Oct 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.9) stable; urgency=low

  *  osfunc: StartProcess_cp: remove wrong setProgress which may lead to division by zero
  * osbatchgui: new var SavedBatchWindowMode
  * osparser: on NormalizeWinst and IconizeWinst save BatchWindowMode to SavedBatchWindowMode
    and set BatchWindowMode to new value.
    on RestoreWinst set to BatchWindowMode and mode to SavedBatchWindowMode
    Fixes changing the window mode by every sub section call (do_actions)

-- Detlef Oertel <d.oertel@uib.de>  Wed,  20 Aug 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.8) stable; urgency=low

  * osparser: more loggin on LLDebug2 in fileActionsMain: used source and target
  * osparser: more loggin on LLDebug2 in fileActionsMain: additional trim() an target

-- Detlef Oertel <d.oertel@uib.de>  Thu,  07 Aug 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.7) stable; urgency=low

  * osfunc: StartProcess_cp: if timeout is given: use Progressbar to show time progess until Timeout
  * new unit cCPUusage
  * skin.ini; new section [Activitybar]
  * osparser : Line 'Looping through' append trailing '''' fixes # 1116
  * osparser: typo double instead of doubble  fixes #1117
  * new switch: AutoActivityDisplay = (true/false) default=false; if true shows marquee while winbatch/dosbatch
  * osfuncwin: RunCommandAndCaptureOut: non blocking readfile with PeekNamedPipe (so Activitybar may run in Background)
  * new manifest: with assemblyIdentity (needed for maquee style in Activitybar

-- Detlef Oertel <d.oertel@uib.de>  Wed,  23 Jul 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.6) stable; urgency=low

  * osmain: typo (dependenproducts) fixes   #1078
  * osparser: typo (Windowds) fixes   #1078
  * osconf: changed version to 4.11.4.6
  * osparser: fix: RegDeleteKey (https://forum.opsi.org/viewtopic.php?p=27061#p27061) #1086
  * osparser: set Fatal if shellbatch/execwith could not be executed. fixes #1074
  * osparser/oslog: new log file .history which always appends just the timestamp, name and version of the installed product.
  * osparser: PatchTextFile: new command: searchAndReplace <search str> <replace str> (works global and not case sensitive)
  * The temporary file names have now a random component in order to prevent conflicts between different instances of opsi-script. fixes #774
  * subsub bug fix: help to find sub sections in external sub section files (calling section as additional parameter in doAktionen)
  * osparser: getsublist: trim parameters before strtoint
  * osparser: getsublist: adjustBounds: fix for negative second parameter.

-- Detlef Oertel <d.oertel@uib.de>  Thu,  27 May 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.5) stable; urgency=low

  * unquote fix:
    * osparser: 'unquote' function details moved to osfunc: 'opsiunquotestr' function
      (because synautil.unquotestr is buggy: "tes't" gives "test"
    * osfunc: new function  opsiunquotestr
    * osfunc: use of opsiunquotestr in fileexists, chmod
    * osparser: use of opsiunquotestr in fileactionsmain
    * osmain: use of opsiunquotestr in getparameter
  * osparser: doRegistryAllNtUserDats: additional check if we can patch via HKU

-- Detlef Oertel <d.oertel@uib.de>  Thu,  19 May 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.4) stable; urgency=low

  * osfunclin: RunCommandAndCaptureOut: Log exitcode on Loglevel LLInfo
  * osparser: linkActionsMain: fix for index out of bound (while (i <= Sektion.count))  fixes: #958
  * osfunc: StartProcess_cp: log error if time out is reached (inc's error counter)  fixes #506
  * new commands in PatchTextFile (osparser:doTextpatchMain):
         'setKeyValueSeparator char' sets Separator for key value pairs (default is '=')
         'setValueByKey keystr valuestr' search exitsing key and sets the given value.
           If the key not exists, the key/value pair will be created below the line cursor.
  * osparser: scriptstopped := true on ExitWindows /ImmediateReboot and  /ImmediateLogout
  * new function: getValueFromFile (<key string>,<file name> ) : string
  * new function: getValueFromFileBySeparator (<key string>,<separator string>,<file name> ) : string
  * new function: saveTextFile(<list>, < filename>) : bool
  * osparser: TuibInstScript.doAktionen: output initalized (created) fixes #974
  * osfunc: enhanced: TXStringList.getStringValue
  * osparser: produceStringlist: fix in emptylist() function

-- Detlef Oertel <d.oertel@uib.de>  Thu,  20 Mar 2014:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.3) stable; urgency=low

  * opsparser: doFileActions: fix for mixed File section modifiers
  * osfunc: TuibRegistry.WriteEntry: fix logging if regtype is changed: fixes #780
  * osfunc: wait for parent ending also if waitforprocessending is true
  * osfunc: FileCopyWin: use of windows.copyFile instead of fileutils.copyFile
  * osparser: Stingreplace with IgnoreCase for %userprofiledir%  fixes #877
  * osparser: new constant %opsiTmpDir% (c:\opsi.org\tmp ; /tmp )
  * osparser: new constant %opsiLogDir% (c:\opsi.org\log ; /var/log/opsi-client-agent/opsi-script )
  * osparser: new command: FatalOnRuntimeError (default = false)
  * osparser: takeString: LogError if index out of bounds; Fatal if FatalOnSyntaxError
  * oslog: escape control chars
  * osfunc: allcopy/execdelete: handle directories with additional attributes (e.g. hidden)
  * osparser: new function doRegistryNTUserDat
  * new Registry Parameter /NTuserDat: <path to ntuser.dat>
  * osmain: ProcessProduct: looks before processing a product if there is still a action request
  * osparser: for fileExists: replace GetFileInfo by  "FileExists() or DirectoryExists()"
  * fixes to really stop the script interpretation after isfatalerror, issuccess, issuspended
  * new unit opsihwbiosinfo based on tsmbios
  * new infomap getHWBiosInfoMap
  * new bool function runningOnUefi      fixes #908
  * new bool function isDriveReady(str)
  * doFileActions: disable windows critical Error Message boxes (SetErrorMode(SEM_FAILCRITICALERRORS))

-- Detlef Oertel <d.oertel@uib.de>  Mon,  9 Dec 2013:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.2) stable; urgency=low

  * make 4.11.4 working under windows
  * osencoding: searchencoding: new methode to read encoding
  * osinteractivegui: opendialog knows now *.ins and *.opsiscript
  * new string function reencodestr(str, from, to)
  * new stringlist function reencodestrlist(strlist, from, to)
  * new stringlist function shellCall( cmd ) ; returns the output of (sysnative) shell with cmd
  * getipByName now uses resolveip at linux
  * manifest extended for win 8.1: <supportedOS Id="{1f676c76-80e1-4239-95bb-83d0f6d0da78}"/>:
    http://msdn.microsoft.com/en-us/library/windows/desktop/dn302074%28v=vs.85%29.aspx
  * fix: use of sysnative with winbatch

-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Sep 2013:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.1) stable; urgency=low

  * splitted project to opsi-script and opsi-script-nogui
  * splitted unit osmain to osmain and osinteractivegui
  * changed unit names:  * wi* -> os*
  * fixed: Feature  491 : real origin file and line number on syntax error (also on included parts)
  * new unit osencode which contain encoding functions
      known encodings are:     +
        UTF-8      utf8        +
        UTF-8BOM   utf8bom     +
        Ansi       ansi        +
        CP1250     cp1250      +
        CP1251     cp1251      +
        CP1252     cp1252      +
        CP1253     cp1253      +
        CP1254     cp1254      +
        CP1255     cp1255      +
        CP1256     cp1256      +
        CP1257     cp1257      +
        CP1258     cp1258      +
        CP437      cp437       +
        CP850      cp850       +
        CP852      cp852       +
        CP866      cp866       +
        CP874      cp874       +
        CP932      cp932       +
        CP936      cp936       +
        CP949      cp949       +
        CP950      cp950       +
        ISO-8859-1 iso8859-1   +
        ISO-8859-2 iso8859-2   +
        KOI-8      koi8        +
        UCS-2LE    ucs2le      +
        UCS-2BE    ucs2be      +
  * fixed: Bug 554 : includelogtail calls reencode
  * command IncludeLog has now an optional 3rd parameter sourceEncoding which may be 'auto', 'system' or a valid encoding.
  * nearly all loadfromfile now with reencode
  * script encoding can now be given with for example
      encoding=utf8
  * loglevel of if/else/endif changed to LLinfo (6) fixes 539
  * loglevel of setLoglevel  changed to LLinfo (6) fixes 535
  * new command 'IsSuspended' interupts script execution and leave productOnClient unchanged   Feature #614
  * shellbatch output is now captured
  * fix in linux getprocesslist: output now: short binary name;pid;user;full command line

-- Detlef Oertel <d.oertel@uib.de>  Tue,  30 Jul 2013:15:00:00 +0200

opsi-winst/opsi-script (4.11.4) stable; urgency=low

  * port to Linux
  * removed logginig via syslog
  * %opsiDepotId%
  * changed unit names:
     * wisynth -> osparser
     * wibatch -> osbatchgui
     * wimain -> osmain
     * wifunc -> osfunc
     * wiwin32 -> osfuncwin2
  * new string function: getLinuxDistroType
  * new stringlist function: getLinuxVersionMap

-- Detlef Oertel <d.oertel@uib.de>  Tue,  30 Apr 2012:15:00:00 +0200

[[opsi-405-releasenotes-misc-changelogs-windows-netboot]]
==== Changelog windows netboot products

windows (4.0.5-4) stable; urgency=low

  * update opsisetuplib.py
  * debug for winpe partition size bug
  * change partition (size/start/end) calculation to fix partition size bug (uib#2014101510000015)
  * property imagename now: editable: True

-- Detlef Oertel <d.oertel@uib.de>  Thu,  16 Oct 2014:15:00:00 +0200

windows (4.0.5-3) stable; urgency=low

  * update opsisetuplib.py

-- Detlef Oertel <d.oertel@uib.de>  Tue,  23 Sep 2014:15:00:00 +0200

windows (nt6) (4.0.5-2) stable; urgency=low

  * update opsisetuplib.py
  * hpsa support

-- Detlef Oertel <d.oertel@uib.de>  Thu,  04 Sep 2014:15:00:00 +0200

windows (nt5) (4.0.5-2) stable; urgency=low

	* fix at $oem$ sub directories in opsi and custom directory
	
 -- detlef oertel <d.oertel@uib.de>  Mon, 04 Nov 2014 16:01:53 +0200

windows (4.0.5-1) stable; urgency=low

  * new property setup_after_install (do)
  * create_driver_links.py: do not extract buildIn-drivers from winpe
  * do not change UAC
  * update opsisetuplib.py
  * sort disks
  * reread changed from sfdisk to partprobe
  * small fix in sfdisk execution

 -- erol ueluekmen <e.ueluekmen@uib.de>  Fri, 18 Jul 2014 12:01:53 +0200

windows (4.0.4-3) stable; urgency=low

  * use of opsisetuplib.py
  * Swapoff all to avoid disk in use
  * copy of winpe_uefi removed

 -- detlef oertel <d.oertel@uib.de>  Fri, 11 Apr 2014 16:01:53 +0200

windows (4.0.4-2) stable; urgency=low

  * UEFI / GPT enabled

 -- detlef oertel <d.oertel@uib.de>  Tue, 25 Feb 2014 16:01:53 +0200

[[opsi-405-releasenotes-misc-changelogs-linux-netboot]]
==== Changelog linux netboot products

*Debian*

debian-4.0.5-4 stable; urgency=low

  * update opsisetuplib.py

-- Detlef Oertel <d.oertel@uib.de>  Tue,  23 Sep 2014:15:00:00 +0200

debian-4.0.5-3 testing; urgency=low

  * update opsipreparelib.py
  * update opsisetuplib.py
  * hpsa support

-- Detlef Oertel <d.oertel@uib.de>  Thu,  04 Sep 2014:15:00:00 +0200

debian-4.0.5-2 testing; urgency=low

  * localization fixes
  * locale-gen fixes
  * automatic release extension for (base-) opsi_online_repository
  * add opsi repository only if install_opsi_server
  * for squeeze 32 debiankernel = "linux-image-686"
  * more timezones

-- Detlef Oertel <d.oertel@uib.de>  Tue,  26 Aug 2014:15:00:00 +0200

debian-4.0.5-1 stable; urgency=low

  * added lvm
  * needs opsi 4.0.5 bootimage
  * new property use_logical_volumes
  * added HD-encryption
  * new property encrypt_logical_volumes (will set use_logical_volumes to True)
  * new property encrypt_password
  * need bootimage >= 20140704
  * more keymaps
  * property setup_after_install default now: "l-os-postinst"

-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Jun 2014:15:00:00 +0200

debian-4.0.4-4 stable; urgency=low

  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)

-- Detlef Oertel <d.oertel@uib.de>  Fri,  20 May 2014:15:00:00 +0200

debian-4.0.4-3 stable; urgency=low

  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)

-- Detlef Oertel <d.oertel@uib.de>  Fri,  02 May 2014:15:00:00 +0200

debian_4.0.4-2 testing; urgency=low

  * retry on debootstrap
  * merged with ubuntu-4.0.4-2
  * use opsisetuplib.py

-- Detlef Oertel <d.oertel@uib.de>  Mon,  17 Mar 2014:15:00:00 +0200

debian_7.02 testing; urgency=low

  * merged with ubuntu-4.0.4

-- Detlef Oertel <d.oertel@uib.de>  Tue,  10 Dec 2013:15:00:00 +0200

debian_6-5 testing; urgency=low

  * merged with ubuntu-12.0.4-5

-- Detlef Oertel <d.oertel@uib.de>  Mon,  22 Apr 2013:15:00:00 +0200

debian-4.0r3-1 testing; urgency=low

  * initial (J.Schneider ?) 13.5.2009

*Ubuntu*

ubuntu-4.0.5-7 testing; urgency=low

  * removed end-of-life releases (quantal,raring,saucy)
  * fix: create /etc/default/locale
  * fix: extend /etc/environment wit PATH

-- Detlef Oertel <d.oertel@uib.de>  Wed,  22 Oct 2014:15:00:00 +0200

ubuntu-4.0.5-6 testing; urgency=low

  * update opsisetuplib.py
  * code cleanup

-- Detlef Oertel <d.oertel@uib.de>  Mon,  22 Sep 2014:15:00:00 +0200

ubuntu-4.0.5-5 testing; urgency=low

  * update opsipreparelib.py
  * update opsisetuplib.py
  * hpsa support

-- Detlef Oertel <d.oertel@uib.de>  Thu,  04 Sep 2014:15:00:00 +0200

ubuntu-4.0.5-4 testing; urgency=low

  * added release lucid
  * localization fixes
  * locale-gen fixes
  * automatic release extension for (base-) opsi_online_repository
  * add opsi repository only if install_opsi_server
  * more timezones

-- Detlef Oertel <d.oertel@uib.de>  Tue,  26 Aug 2014:15:00:00 +0200

ubuntu-4.0.5-3 stable; urgency=low

  * property setup_after_install default now: "l-os-postinst"

-- Detlef Oertel <d.oertel@uib.de>  Fri,  15 Aug 2014:15:00:00 +0200

ubuntu-4.0.5-2 stable; urgency=low

  * added HD-encryption
  * new property encrypt_logical_volumes (will set use_logical_volumes to True)
  * new property encrypt_password
  * need bootimage >= 20140704

-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Jun 2014:15:00:00 +0200

ubuntu-4.0.5-1 stable; urgency=low

  * added lvm
  * needs opsi 4.0.5 bootimage
  * new property use_logical_volumes

-- Detlef Oertel <d.oertel@uib.de>  Wed,  4 Jun 2014:15:00:00 +0200

ubuntu-4.0.4-5 stable; urgency=low
  * added lvmClearVolumeGroups()
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)
-- Detlef Oertel <d.oertel@uib.de>  Fri,  20 May 2014:15:00:00 +0200

ubuntu-4.0.4-4 stable; urgency=low

  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)

-- Detlef Oertel <d.oertel@uib.de>  Fri,  02 May 2014:15:00:00 +0200

ubuntu-4.0.4-3 testing; urgency=low

  * added trusty thar (14.04)
  * retries at debootstrap
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  18 Mar 2014:15:00:00 +0200

ubuntu-4.0.4-2 UNRELEASED; urgency=low

  * needs now opsi linux bootimage version: 20140118
  * removed 64bit opsi-linux-bootimage and kernel from package
  * modified pxetemplate for new bootimage support
  * small fix in ubuntu.py
  * SERVER_DATA removed
  * fixed postinst
  * UEFI/GPT Support
  * new property setup_after_install

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri,  07 Feb 2014:01:00:00 +0200

ubuntu-4.0.4-1 experimental; urgency=low

  * needs now opsi linux bootimage version: 20131021
  * added 64bit opsi-linux-bootimage
  * new property: release
  * install linux-image after grup
  * additional run of update-grub
  * debootstrap script for saucy (copy from raring)
  * pkgdetails for all releases
  * removed property 'desktop'

 -- Detlef Oertel <d.oertel@uib.de>  Tue,  24 Sep 2013:15:00:00 +0200

ubuntu-12.0.4-8 experimental; urgency=low

  * new property: proxy
  * dirtyhack in ubuntu.py: Devicefile not found by creating swap

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed,  21 Aug 2013:11:00:00 +0200

ubuntu-12.0.4-7 testing; urgency=low

  * new property: install_opsi-client-agent
  * integration of the Linux opsi-client-agent 4.0.3.2-1
  * some more ' --force-yes'

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  1 Jul 2013:15:00:00 +0200

ubuntu-12.0.4-6 testing; urgency=low

  * timeout (1000 seconds) on debootstrap call

 -- Detlef Oertel / Erol Ueluekmen <info@uib.de>  Tue,  18 June 2013:15:00:00 +0200

ubuntu-12.0.4-5 testing; urgency=low

  * remove property: delete_partition_table (always/if_needed/never) (default=always)
  * new property: data_partition_preserve (always/if_possible/never) (default=never)
  * integrated 64bit opsi-linux-bootimage
    - version 20130427
    - kernel 3.6.11
    - python-opsi 4.0.3.2-1
  * added architecture productProperty
  * added 32 / 64 Bit Support (installs 64 Bit System if started from 64 Bit bootimage)
  * added UEFI/GPT Support
  * minimum disk size changed to 5GB

 -- Detlef Oertel / Erol Ueluekmen <info@uib.de>  Tue,  30 Apr 2013:15:00:00 +0200

ubuntu-12.0.4-4 testing; urgency=low

  * added desktop 'cinnamon'. Will be installed on top of a unity
  * added property wget_and_execute
  * user now in sudo group
  * fixes in unity and xfce installation

 -- Detlef Oertel <d.oertel@uib.de>  Thu,  03 Apr 2013:15:00:00 +0200

ubuntu-12.0.4-3 testing; urgency=low

  * fit to partition scheme for opsi-image-local-(backup/restore)

 -- Detlef Oertel <d.oertel@uib.de>  Fri,  04 Jan 2013:15:00:00 +0200

ubuntu-12.0.4-2 testing; urgency=low

  * update ubuntu.py to opsi 4.0.2-3 standard

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  17 Dec 2012:15:00:00 +0200

ubuntu-12.0.4-1 testing; urgency=low

  * update to 12.04

 -- Detlef Oertel <d.oertel@uib.de>  Fri,  14 Dec 2012:15:00:00 +0200

ubuntu-8.0.4-3 testing; urgency=low

  * changing source var to opsi_depot share (no more 'install')

 -- Detlef Oertel <d.oertel@uib.de>  Fri,  14 Dec 2012:15:00:00 +0200

ubuntu-8.0.4-2 testing; urgency=low

  * initial (J.Schneider ?) 13.5.2009

*openSUSE*

opensuse13-1_13.01-6 stable; urgency=low

  * fix repo URI ; fixes #1220
  * update opsisetuplib.py

-- Detlef Oertel <d.oertel@uib.de>  Tue,  21 Oct 2014:15:00:00 +0200

opensuse13-1_13.01-5 stable; urgency=low

  * update opsipreparelib.py
  * update opsisetuplib.py
  * hpsa support
  * code cleanup

-- Detlef Oertel <d.oertel@uib.de>  Fri,  26 Sep 2014:15:00:00 +0200

opensuse13-1_13.01-4 testing; urgency=low

  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)
  * code cleanup
  * new property: setup_after_install
  * new property: wget_and_execute

-- Detlef Oertel <d.oertel@uib.de>  Mon,  28 Jul 2014:15:00:00 +0200

opensuse13-1_13.01-3 testing; urgency=low

  * UUID for storage devices
  * added lvmClearVolumeGroups()
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  20 May 2014:15:00:00 +0200

opensuse13-1_13.01-2 UNRELEASED; urgency=low

  * needs now opsi linux bootimage version: 20140118
  * removed 64bit opsi-linux-bootimage and kernel from package
  * modified pxetemplate for new bootimage support
  * SERVER_DATA removed
  * fixed postinst
  * fix install opsi server
  * UEFI/GPT Support
  * new property setup_after_install

-- Detlef Oertel <d.oertel@uib.de>  Tue,  18 Feb 2014:15:00:00 +0200

opensuse13-1_13.01-1 stable; urgency=low

  * port from opensuse12-3

-- Detlef Oertel <d.oertel@uib.de>  Tue,  9 Dec 2013:15:00:00 +0200

opensuse12-3_12.03-5 stable; urgency=low

  * fix repo URI ; fixes #1220
  * update opsisetuplib.py

-- Detlef Oertel <d.oertel@uib.de>  Tue,  21 Oct 2014:15:00:00 +0200

opensuse12-3_12.03-4 stable; urgency=low

  * update opsipreparelib.py
  * update opsisetuplib.py
  * hpsa support
  * code cleanup

-- Detlef Oertel <d.oertel@uib.de>  Fri,  26 Sep 2014:15:00:00 +0200

opensuse12-3_12.03-3 testing; urgency=low

  * UUID for storage devices
  * added lvmClearVolumeGroups()
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  20 May 2014:15:00:00 +0200

opensuse12-3_12.03-2 testing; urgency=low

  * needs now opsi linux bootimage version: 20140118
  * removed 64bit opsi-linux-bootimage and kernel from package
  * modified pxetemplate for new bootimage support
  * SERVER_DATA removed
  * fixed postinst
  * fix install opsi server
  * UEFI/GPT Support
  * new property setup_after_install

-- Detlef Oertel <d.oertel@uib.de>  Tue,  18 Feb 2014:15:00:00 +0200

opensuse12-3_12.03-1 stable; urgency=low

  * port from opensuse (version now part of name because rpms included)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  9 Dec 2013:15:00:00 +0200

opensuse-12.03-2 experimental; urgency=low

  * minimal rpms

-- Detlef Oertel <d.oertel@uib.de>  Tue,  26 Sep 2013:15:00:00 +0200

opensuse-12.03-1 experimental; urgency=low

  * update to 12.03

-- Detlef Oertel <d.oertel@uib.de>  Tue,  24 Sep 2013:15:00:00 +0200

opensuse-10.03-1 experimental; urgency=low

  * initial (J.Schneider ?) 13.5.2009

*sles11sp3*

sles11sp3-11.3-10 stable; urgency=low

  * update opsisetuplib.py

-- Detlef Oertel <d.oertel@uib.de>  Tue,  23 Sep 2014:15:00:00 +0200

sles11sp3-11.3-9 stable ; urgency=low

  * fix in mount boot partition
  * hpsa support

-- Detlef Oertel <d.oertel@uib.de>  Tue,  09 Sep 2014:15:00:00 +0200

sles11sp3-11.3-8 stable ; urgency=low

  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
  * added lvmClearVolumeGroups()
  * suse_register with --no-refresh

-- Detlef Oertel <d.oertel@uib.de>  Wed,  20 Aug 2014:15:00:00 +0200

sles11sp3-11.3-7 stable ; urgency=low

  * needs now opsi linux bootimage version: 20140118
  * removed 64bit opsi-linux-bootimage and kernel from package
  * modified pxetemplate for new bootimage support
  * small fix in ubuntu.py
  * SERVER_DATA removed
  * fixed postinst
  * UEFI/GPT Support
  * new property setup_after_install
  * add install of kernel-firmware
  * rename grub.cfg to grub.conf

-- Detlef Oertel <d.oertel@uib.de>  Mon,  20 Jan 2014:15:00:00 +0200

sles11sp3-11.3-6 experimental; urgency=low

  * new product property: kernel_modules

-- Detlef Oertel <d.oertel@uib.de>  Wed,  15 Jan 2014:15:00:00 +0200

sles11sp3-11.3-5 experimental; urgency=low

  * create fstab and menu.lst with uuid instead of /dev/sda

-- Detlef Oertel <d.oertel@uib.de>  Thu,  09 Jan 2014:15:00:00 +0200

sles11sp3-11.3-4 experimental; urgency=low

  * some more logging
  * fix: local repositories
  * use different grub.cfg on unixDevicePath

-- Detlef Oertel <d.oertel@uib.de>  Wed,  18 Dec 2013:15:00:00 +0200

sles11sp3-11.3-3 experimental; urgency=low

  * fix: user softwareLicenseKey only if suse_register=true
  * update to bootimage 20131209

-- Detlef Oertel <d.oertel@uib.de>  Thu,  12 Dec 2013:15:00:00 +0200

sles11sp3-11.3-2 experimental; urgency=low

  * sles.py fixes: syntax error
  * added proxy handling
  * added productProperties suse_register and local_repositories

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue,  29 Oct 2013:10:00:00 +0200

sles11sp3-11.3-1 experimental; urgency=low

  * port from opensuse package
  * property productkey for suse_register

-- Detlef Oertel <d.oertel@uib.de>  Tue,  28 Oct 2013:15:00:00 +0200

*centos65*

centos65_6.5-3 testing; urgency=low

  * added lvmClearVolumeGroups()
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  05 Aug 2014:15:00:00 +0200

centos65_6.5-2 testing; urgency=low

  * retries at base installation
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
  * new property setup_after_install
  * removed properies use_raid1 (always false) and block_alignment (always true)

-- Detlef Oertel <d.oertel@uib.de>  Mon,  28 Apr 2014:15:00:00 +0200

centos65_6.5-1 experimental; urgency=low

  * port from redhat65

-- Detlef Oertel <d.oertel@uib.de>  Mon,  3 Feb 2014:15:00:00 +0200

*Fedora 20*

fedora_20_20-4 stable; urgency=low

  * added lvmClearVolumeGroups()
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)
  * new property setup_after_install
  * new property wget_and_execute
  * 32Bit support

-- Detlef Oertel <d.oertel@uib.de>  Tue,  20 May 2014:15:00:00 +0200

fedora_20_20-3 stable; urgency=low

  * retries at base installation
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  22 Apr 2014:15:00:00 +0200

fedora_20_20-1 stable; urgency=low

  * port from opensuse13-1

-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Dec 2013:15:00:00 +0200

[[opsi-405-releasenotes-misc-changelogs-opsi-local-image]]
==== Changelog opsi-local-image

*opsi-local-image-backup*

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-backup (4.0.5.1-2) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-backup (4.0.5.1-1) stable; urgency=low

	* new property setup_after_install
	* disk sorting

 -- detlef oertel <d.oertel@uib.de>  Thu, 10 Jul 2014 16:01:53 +0200

opsi-local-image-backup (4.0.4.3-1) stable; urgency=low

	* opsisetuplib.py update
	* code cleanup

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-backup (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* remove action requests from poc store

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-backup (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support
	* Showing a progress bar when creating a backup.

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-backup (4.0.4.1-1) stable; urgency=low

  * Handles imagefile names with spaces (internal as '_')
  * fix: stores always the correct netboot product name

 - detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-backup (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

 - detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-backup (4.0.3-4) stable; urgency=low

  * internal syntax fix: fix image list
  * use partclone with --dev-to-dev instead of --clone

 - detlef oertel <d.oertel@uib.de>  25 Jun 2013

opsi-local-image-backup (4.0.3-3) experimental; urgency=low

  * internal syntax fix: initialize 'goon'

 - detlef oertel <d.oertel@uib.de>  11 Apr 2013

 opsi-local-image-backup (4.0.3-2) experimental; urgency=low

  * new product property 'imagefile'

 - detlef oertel <d.oertel@uib.de>  12 Mar 2013

opsi-local-image-backup (4.0.3-1) experimental; urgency=low

  * initial

 - detlef oertel <d.oertel@uib.de>  15 Oct 2012

*opsi-local-image-capture*

opsi-local-image-capture (4.0.5.1-5) stable; urgency=low

	* disabled all calls of ShellInAnIcon_copylog

 -- detlef oertel <d.oertel@uib.de>  Tue, 29 Jul 2014 16:01:53 +0200

opsi-local-image-win* (4.0.5.1-4) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-3) stable; urgency=low

	* delete c:\tmp before capture
	* delete c:\drv before capture

 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-2) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-1) stable; urgency=low

	* removed property capture_architecture
	* rewmoved property imagefilename
	* removed retry by sdfisk --re-read replaced by partprobe
	* code cleanup
	* fix gpt hidden winpe partition
	* windows partition before reboot and unhide while pe run (PE have to be c:)
	* auto detect drive letter for windows partition (may be different on existence of CD or other partitions)
	* fall back from dism to imagex if dism fails
	* uefi: switch back to uefi netboot (for e.g. opsi-local-image restore)

 -- detlef oertel <d.oertel@uib.de>  Tue, 15 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.4-2) stable; urgency=low

	* fixes in setup.py
	* special winst64.exe with ssl
	* removed use of property capture_architecture
	* rewmoved use of property imagefilename

 -- detlef oertel <d.oertel@uib.de>  Fri, 20 Jun 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.4-1) stable; urgency=low

	* switch back to PE based capture
	* modified winst32 with network connection

 -- detlef oertel <d.oertel@uib.de>  Thu, 5 Jun 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-1) stable; urgency=low

	* opsisetuplib.py update
	* needs opsi 4.0.5 bootimage
	* new property: netboot_product
	* new property: capture_architecture

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.3-2) stable; urgency=low

	* use opsi_depot and opsi_depot_rw (samba4 executable bit problem)
	#* experimental: call winst32.exe
	#* new property: netboot_product
	* new property: capture_architecture

 -- detlef oertel <d.oertel@uib.de>  Mon, 28 Apr 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* Swapoff all to avoid disk in use
	* remove action requests from poc store

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.2-1) stable; urgency=low

	* initial: created from opsi-local-image-backup

 -- detlef oertel <d.oertel@uib.de>  Wed, 26 Mar 2014 16:01:53 +0200

*opsi-local-image-delimage*

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.5.1-2) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Thu, 24 Jul 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.5.1-1) stable; urgency=low

	* update of opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 22 Jul 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Fri, 31 Jan 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.4.1-1) stable; urgency=low

  * Handles imagefile names with spaces (internal as '_')

 - detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-delimage (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

 - detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-delimage-4.0.3.1-2 testing; urgency=low

  * fix in type call

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Apr 2013:15:00:00 +0200

opsi-local-image-delimage-4.0.3.1-1 testing; urgency=low

  * initial

-- Detlef Oertel <d.oertel@uib.de>  Wed,  13 Mar 2013:15:00:00 +0200

*opsi-local-image-prepare*

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.5.1-2) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.5.1-1) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 22 Jul 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-4) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 17 Jun 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-3) stable; urgency=low

	* start_os_installation editable: True

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-2) stable; urgency=low

	* code cleanup
	* system_partition_size editable: True
	* data_partition_size editable: True

 -- detlef oertel <d.oertel@uib.de>  Tue, 27 May 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.2-3) stable; urgency=low

	* fix: Create backup partition: start is boundaryM + partgapM
	* library: createPartitionEx and createFilesystemEx with success test
	* smaller partGap : 64 M

 -- detlef oertel <d.oertel@uib.de>  Wed, 26 Mar 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.2-2) stable; urgency=low

	* swapoff all before partitioning
	* code cleanup

 -- detlef oertel <d.oertel@uib.de>  Thu, 27 Feb 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-prepare (4.0.4.1-1) stable; urgency=low

	* rename to 4.0.4.1-1
	* added win81 products

 -- detlef oertel <d.oertel@uib.de>  Fri, 20 Dec 2013 16:01:53 +0200

opsi-local-image-prepare-4.0.3.2-1 testing; urgency=low

  * #267 Weitere Partitionsgrößen in "opsi-local-image-prepare"
  * new property: data_partition_size ; Default = 0G = partition will not be created
  * Now works also with 4 partitions

-- Detlef Oertel <d.oertel@uib.de>  Wed,  01 Aug 2013:15:00:00 +0200

opsi-local-image-prepare-4.0.3.1-1 testing; urgency=low

  * rename from opsi-local-image-repartition
  * added ProductProperty: start_OS_installation
  * added sleeps and 'sfdisk re-read's and retrries to avoid timing problems after create partition

-- Detlef Oertel <d.oertel@uib.de>  Wed,  13 Feb 2013:15:00:00 +0200

opsi-local-image-repartition-4.0.3.1-1 testing; urgency=low

  * initial

-- Detlef Oertel <d.oertel@uib.de>  Wed,  13 Feb 2013:15:00:00 +0200

*opsi-local-image-restore*

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-restore (4.0.5.1-2) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-restore (4.0.5.1-1) stable; urgency=low

	* opsisetuplib.py update (new function setNextUefiBoot())
	* removed retry by sdfisk --re-read replaced by partprobe
	* fix: set next uefiboot via setNextUefiBoot()

 -- detlef oertel <d.oertel@uib.de>  Tue, 15 Jul 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.3-2) stable; urgency=low

	* opsisetuplib.py update
	* retry by sdfisk --re-read
	* fix: IndexError
	* try / except at restoring ntfs ACLs

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* do not use  PE partition as swap (for reusing PE by capture)

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.2-2) stable; urgency=low

	* raise exception if there is no meta data file

 -- detlef oertel <d.oertel@uib.de>  Mon, 25 Mar 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support
	* Showing a progress bar when restoring a backup.

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-restore (4.0.4.1-1) stable; urgency=low

  * Fix: failover from rsync to image if rsync fails
  * replace all not allowed image name chars with "_"

 - detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-restore (4.0.3.2-2) stable; urgency=low

  * Fix: timeout increased from 100 to 1000

 - detlef oertel <d.oertel@uib.de>  20 Sep 2013

opsi-local-image-restore (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

 - detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-restore (4.0.3-7) stable; urgency=low

  * fix: method rsync-restore temporary activated again
  * partclone-image-restore uses now partclone.<fs> --dev-to-dev instaed of partclone.restore
  * mount for rsync uses mount.ntfs instead of imagemount
  * should be use d with backups from opsi-local-image-backup >= 4.0.3-4

 - detlef oertel <d.oertel@uib.de>  27 June 2013

opsi-local-image-restore (4.0.3-6) stable; urgency=low

  * fix: method rsync-restore temporary removed due to ntfs access rights problems and security risks

 - detlef oertel <d.oertel@uib.de>  27 June 2013

opsi-local-image-restore (4.0.3-5) experimental; urgency=low

  * fix: exclude symbolic links from rsync-restore use tar file instead
    should be use d with backups from 4.0.3-4

 - detlef oertel <d.oertel@uib.de>  24 June 2013

opsi-local-image-restore (4.0.3-4) stable; urgency=low

  * fix undefined myvalues in line 571

 - detlef oertel <d.oertel@uib.de>  17 June 2013

opsi-local-image-restore (4.0.3-3) stable; urgency=low

  * property 'method' has now "rsync-partclone-image" as default
  * new property setup_after_restore

 - detlef oertel <d.oertel@uib.de>  17 Apr 2013

opsi-local-image-restore (4.0.3-2) experimental; urgency=low

  * fix: set partition type and bootflag

 - detlef oertel <d.oertel@uib.de>  12 Mar 2013

opsi-local-image-restore (4.0.3-1) experimental; urgency=low

  * initial

 - detlef oertel <d.oertel@uib.de>  15 Oct 2012

*opsi-local-image-sysprep*

opsi-local-image-sysprep (4.0.5.1-1) stable; urgency=low

	* deactivate opsi-client-agent before sysprep
	* set uefi netboot before reboot if a netboot product is activated

 -- detlef oertel <d.oertel@uib.de>  Tue, 15 Jul 2014 16:01:53 +0200

opsi-local-image-sysprep (4.0.4.3-1) stable; urgency=low

	* more features

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-sysprep (1.0-1) testing; urgency=low

  * Initial version based on opsi-sysprep

 -- d.oertel <d.oertel@uib.de> Wed, 26 Mar 2014 16:39:34 + 0100

*opsi-local-image-win**

opsi-local-image-win* (4.0.5.1-6) stable; urgency=low

	* fix at $oem$ sub directories in opsi and custom directory
	
 -- detlef oertel <d.oertel@uib.de>  Mon, 04 Nov 2014 16:01:53 +0200
 
opsi-local-image-win* (4.0.5.1-5) stable; urgency=low

	* update opsisetuplib.py
	* update pci.ids, usb.ids
	
 -- detlef oertel <d.oertel@uib.de>  Mon, 29 Sep 2014 16:01:53 +0200

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.5.1-2) stable; urgency=low

	* update opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.5.1-1) stable; urgency=low

	* diskpart.txt is now gpt aware
	* no delete of opsi directory in PE via cleanup
	* create_driver_links.py: do not extract buildIn-drivers from winpe (eu)
	* code cleanup: no dual disk (ever only first disk)

 -- detlef oertel <d.oertel@uib.de>  Fri, 3 Jul 2014 10:01:53 +0200

opsi-local-image-win7 (4.0.4.3-3) stable; urgency=low

	* opsisetuplib.py update

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.3-2) stable; urgency=low

	* fix in setup_after_install

 -- detlef oertel <d.oertel@uib.de>  Thu, 22 May 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* property imagename now editable
	* Swapoff all to avoid disk in use
	* lvmClearVolumeGroups() to avoid disk in use

 -- detlef oertel <d.oertel@uib.de>  Fri, 28 Mar 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.2-2) stable; urgency=low

	* syntax fix

 -- detlef oertel <d.oertel@uib.de>  Thu, 27 Feb 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-win7 (4.0.4.1-2) stable; urgency=low

	* UCS 3.2 Errata 4 fix: mount share from PE with valid domain:
		shareusername via webservice from clientconfig.depot.user

 -- detlef oertel <d.oertel@uib.de>  Thu, 16 Jan 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.1-1) stable; urgency=low

  * new product property setup_after_install: list of products which will be switched to setup with dependencies
  * if backup_after_install is true, the product property imageFile of opsi-local-image-backup will be set to '' (empty)

-- detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-win7 (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

-- detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-win7 (4.0.3-2) stable; urgency=low

  * better error messages on wrong partition table

 -- uib GmbH <info@uib.de>  Wed, 17 Apr 2013 13:30:20 +0000

opsi-local-image-win7 (4.0.3-1) experimental; urgency=low

  * changed to match opsi-local-image standard

 -- uib GmbH <info@uib.de>  Wed, 13 Feb 2013 13:30:20 +0000

*opsi-local-image-ubuntu*

opsi-local-image-ubuntu (4.0.5.1-1) stable; urgency=low

	* ports from the 4.0.5 ubuntu product
	* trusty now default release
	* more keymaps
	* property setup_after_install default now: "l-os-postinst"

 -- detlef oertel <d.oertel@uib.de>  Mon, 11 Aug 2015 16:01:53 +0200

opsi-local-image-ubuntu (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-ubuntu (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-ubuntu32 (4.0.4.1-1) stable; urgency=low

  * new product property setup_after_install: list of products which will be switched to setup with dependencies
  * if backup_after_install is true, the product property imageFile of opsi-local-image-backup will be set to '' (empty)

-- detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-ubuntu32 (4.0.3.2-2) stable; urgency=low

  * fix for 4 Partions (3rd part may be with label swap or winpe

-- detlef oertel <d.oertel@uib.de>  24 Sep 2013

opsi-local-image-ubuntu32 (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

-- detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-ubuntu32_4.0.3-3 stable; urgency=low

  * fixes in desktop installation of xfce and unity
  * desktop cinnamon added

-- uib GmbH <info@uib.de>  Mon, 1 Jul 2013 13:30:20 +0000

opsi-local-image-ubuntu32_4.0.3-2 stable; urgency=low

  * better error messages on wrong partition table

-- uib GmbH <info@uib.de>  Wed, 17 Apr 2013 13:30:20 +0000

opsi-local-image-ubuntu32_4.0.3-1 testing; urgency=low

  * changes to match opsi-local-image standard

-- Detlef Oertel <d.oertel@uib.de>  Fri,  01 Feb 2013:15:00:00 +0200

[[opsi-405-releasenotes-misc-changelogs-python-opsi]]
==== Changelog python-opsi

python-opsi (4.0.5.15-1) experimental; urgency=low

  * Patching sudoers: allow using service when no TTY present

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 22 Oct 2014 14:30:24 +0200

python-opsi (4.0.5.14-1) experimental; urgency=low

  * 10_opsi.conf: New methods getHardwareAuditDataCount and
    getSoftwareAuditDataCount
  * DHCPD backend: Fix logging problem caused by string / unicode mixup.
  * OPSI.System.Posix.getServiceNames: Prefer "systemctl" over "service"
    to have a solution that flawlessly works on CentOS 7.
  * OPSI.System.Posix.locateDHCPDInit: Added search via getServiceNames

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 22 Oct 2014 12:23:35 +0200

python-opsi (4.0.5.13-1) experimental; urgency=low

  * OPSI.System.Posix.Distribution: stripping the distribution attribute.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 14 Oct 2014 15:34:21 +0200

python-opsi (4.0.5.12-1) experimental; urgency=low

  * More work on OPSI.System.Posix.getSambaServiceName

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 08 Oct 2014 14:50:17 +0200

python-opsi (4.0.5.11-2) experimental; urgency=low

  * Dropping python-simplejson as dependency because it is Pythons stdlib as
    json since Python 2.6

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 08 Oct 2014 11:43:34 +0200

python-opsi (4.0.5.11-1) experimental; urgency=low

  * MySQL-backend: lower log-level for messages regarding transactions
  * Posix: added Methods getServiceNames and getSambaServiceName

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Oct 2014 15:58:24 +0200

python-opsi (4.0.5.10-1) stable; urgency=low

  * DHCPD.py: small fix in restarting dhcp-service

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 01 Oct 2014 16:54:50 +0200

python-opsi (4.0.5.9-1) stable; urgency=low

  * opsi-setup: changed restarting services over service calls
    instead of using init-scripts directly.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 01 Oct 2014 16:14:13 +0200

python-opsi (4.0.5.8-2) testing; urgency=low

  * python-crypto requirement modified for sles to python-pycrypto

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 29 Sep 2014 10:13:17 +0200

python-opsi (4.0.5.8-1) testing; urgency=low

  * FileBackend raises Exception if getRawData method is called.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 23 Sep 2014 15:16:56 +0200

python-opsi (4.0.5.7-1) experimental; urgency=low

  * Preferring ldaptor over OPSI.ldaptor

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 10 Sep 2014 13:36:47 +0200

python-opsi (4.0.5.6-2) experimental; urgency=low

  * rpm-based packages: require python-pyasn1

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 09 Sep 2014 16:55:20 +0200

python-opsi (4.0.5.6-1) experimental; urgency=low

  * Fix for certificate creation on SLES11SP3

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 25 Aug 2014 15:26:42 +0200

python-opsi (4.0.5.5-1) testing; urgency=medium

  * setProductActionRequestWithDependencies: added optional force
    parameter, to set dependend products even if they are installed

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sat, 23 Aug 2014 02:37:20 +0200

python-opsi (4.0.5.4-3) testing; urgency=low

  * Also build on Ubuntu 10.04

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 22 Aug 2014 17:28:08 +0200

python-opsi (4.0.5.4-2) experimental; urgency=low

  * 40_groupActions.conf: _getClientsOnDepotByHostGroup get correct clients.
  * Debian: call dh --with python2

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 22 Aug 2014 17:18:16 +0200

python-opsi (4.0.5.3-2) experimental; urgency=low

  * SLES: Require libmagic1 for working python-magic

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 19 Aug 2014 12:55:00 +0200

python-opsi (4.0.5.3-1) experimental; urgency=low

  * Fix termination of KillableThread on newer Pythons

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 11 Aug 2014 14:09:02 +0200

python-opsi (4.0.5.2-7) experimental; urgency=low

  * RHEL / CentOS: Depending on MySQL-python instead python-mysql
  * openSUSE / SLES: Fix depending on wrong version number for python-newt

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 06 Aug 2014 12:10:08 +0200

python-opsi (4.0.5.2-5) experimental; urgency=low

  * Dependencies for RHEL / CentOS 6 fixed and cleaned up .spec.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 06 Aug 2014 11:20:25 +0200

python-opsi (4.0.5.2-4) experimental; urgency=low

  * Re-Enabling dependency on python-ldaptor.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Aug 2014 16:39:12 +0200

python-opsi (4.0.5.2-2) experimental; urgency=low

  * Possible to build with python-support again.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Aug 2014 14:35:00 +0200

python-opsi (4.0.5.2-1) experimental; urgency=low

  * fix in write method for backendConfigFiles

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sun, 03 Aug 2014 03:26:28 +0200

python-opsi (4.0.5.1-2) experimental; urgency=low

  * Using dh_python2

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 30 Jul 2014 17:38:00 +0200

python-opsi (4.0.5.1-1) experimental; urgency=low

  * New module: OPSI.Util.Task.Sudoers
  * 70_dynamic_depot.conf: Latency algorythm does even work if pinging
    a depot results in a timeout.
  * OpsiBackupArchive: Avoid hanging in an endless loop when running
    backupMySQLBackend and stderr gets spammed with the same message
  * DHCPD Backend: Trying to read the address of an client from the
    DHCPD configuration file if it can't be resolved via DNS.
  * Certificate Creation: Using 2048 bit instead of 1024
  * small fix in getOpsiHostKey method
  * configed: direct access for mysql-backend users
  * forceUrl method don't convert value to lower
  * OpsiBackupArchive: get path to mysqldump via which
  * Speeding up backend_getInterface, getArgAndCallString, objectToHtml,
    objectToBeautifiedText
  * New module: OPSI.Util.Task.ConfigureBackend.ConfigurationData
  * Added possibility to disable pigz in opsi.conf
  * SQL-Backends: Improved speed of query creation
  * Do not fail on removing installed products if the directory
    contains filenames with unicode characters
  * OPSI.System.Posix: Fixing reread partiontable problem with new bootimage
  * OPSI.System.Windows: Added setLocalSystemTime and getServiceTime in backend
  * Driverintegration: Fallback for byAudit to check if mainboard integration is possible.
  * OPSI.System.Posix: initializing bytesPerSector attribute in Harddisk class
    constructor
  * OPSI.Util.Repository: workarround timing problem after reconnect network
    adapter

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 28 Jul 2014 23:51:00 +0200

[[opsi-405-releasenotes-misc-changelogs-opsipxeconfd]]
==== Changelog opsipxeconfd

opsipxeconfd (4.0.5.3-6) experimental; urgency=low

  * Removal on RHEL/CentOS should not fail anymore.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 09 Sep 2014 16:21:06 +0200

opsipxeconfd (4.0.5.3-5) experimental; urgency=low

  * RPM: Fix problems with macro syntax.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 09 Sep 2014 15:04:12 +0200

opsipxeconfd (4.0.5.3-4) experimental; urgency=low

  * RHEL/CentOS: Only removing the daemon in postun

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 09 Sep 2014 14:21:31 +0200

opsipxeconfd (4.0.5.3-3) experimental; urgency=low

  * RHEL/CentOS: fixing problems on uninstall

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 09 Sep 2014 12:30:07 +0200

opsipxeconfd (4.0.5.3-2) experimental; urgency=low

  * Fix for logrotate under SLES11SP3

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 25 Aug 2014 11:36:03 +0200

opsipxeconfd (4.0.5.3-1) experimental; urgency=low

  * Fix in modules handling

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 07 Aug 2014 01:45:00 +0200

opsipxeconfd (4.0.5.2-1) experimental; urgency=low

  * Fix in custom pxeConfTemplate-file handling.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 04 Aug 2014 16:09:14 +0200

opsipxeconfd (4.0.5.1-3) experimental; urgency=low

  * Support for building with python-support added again.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Aug 2014 14:48:15 +0200

opsipxeconfd (4.0.5.1-2) experimental; urgency=low

  * Changed build system to dh_python2

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 30 Jul 2014 17:33:46 +0200

opsipxeconfd (4.0.5.1-1) experimental; urgency=low

  * Correctly stopping the service on non-SUSE machines on upgrade/uninstall
  * uefi support

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 08 Jul 2014 11:59:08 +0200


[[opsi-405-releasenotes-misc-changelogs-opsiconfd]]
==== Changelog opsiconfd

opsiconfd (4.0.5.2-1) experimental; urgency=low

  * Info page: display the correct percentage if calls failed
  * Statistics: display correct result-length if returned type is dict
  * Info page: Show more info about threads if possible
  * RHEL / CentOS 7 and Fedora: Fix logrotate configuration

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 20 Oct 2014 09:38:46 +0200

opsiconfd (4.0.5.1-7) experimental; urgency=low

  * Fix for newer logrotate-versions not applied on SLES because 11SP3
    provides an updated version that can handle su directive

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 19 Aug 2014 16:41:48 +0200

opsiconfd (4.0.5.1-6) experimental; urgency=low

  * Suggesting only on SLES, not everyone.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 13 Aug 2014 16:27:34 +0200

opsiconfd (4.0.5.1-5) experimental; urgency=low

  * python-rrdtool is not required but suggested.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 13 Aug 2014 16:14:13 +0200

opsiconfd (4.0.5.1-4) experimental; urgency=low

  * Lowering required debhelper version for building Ubuntu 10.04

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Aug 2014 14:25:31 +0200

opsiconfd (4.0.5.1-3) experimental; urgency=low

  * Re-enabling build dependency python-support for older distros.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Aug 2014 13:59:27 +0200

opsiconfd (4.0.5.1-2) experimental; urgency=low

  * Using dh_python instead of python-support

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 30 Jul 2014 17:29:48 +0200

opsiconfd (4.0.5.1-1) experimental; urgency=low

  * Improved info page render speed.
  * Info page: show additional information about running threads
  * Info page: display human-readable time at thread information

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 10 Jun 2014 12:36:13 +0200

[[opsi-405-releasenotes-misc-changelogs-opsi-utils]]
==== Changelog opsi-utils

opsi-utils (4.0.5.6-2) experimental; urgency=low

  * Suse: listing /etc/opsi as directory

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 10 Oct 2014 16:49:48 +0200

opsi-utils (4.0.5.6-1) experimental; urgency=low

  [ Erol Ueluekmen ]
  * opsi-package-manager: new option --set-file-level added.

  [ Niko Wenselowski ]
  * RPM: changing the specfile to avoid conflicts

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 10 Oct 2014 16:38:07 +0200

opsi-utils (4.0.5.5-1) testing; urgency=low

  * opsi-newprod: Fix missing newlines in postinst/preinst

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 29 Aug 2014 12:04:51 +0200

opsi-utils (4.0.5.4-1) experimental; urgency=low

  * opsi-newprod correctly copies the contents of the template-directory

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 13 Aug 2014 11:31:53 +0200

opsi-utils (4.0.5.3-2) experimental; urgency=low

  * Fix for reading the home dir.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 11 Aug 2014 15:53:58 +0200

opsi-utils (4.0.5.3-1) experimental; urgency=low

  * opsi-admin: Added another try on reading the users home directory.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 05 Aug 2014 17:02:03 +0200

opsi-utils (4.0.5.2-2) experimental; urgency=low

  * Make building with Fedora possible.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Aug 2014 15:53:19 +0200

opsi-utils (4.0.5.2-1) experimental; urgency=low

  * opsi-product-updater: small bugfix

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sun, 03 Aug 2014 03:35:50 +0200

opsi-utils (4.0.5.1-1) experimental; urgency=low

  * opsi-newprod: New feature -t: Copy files from a template directory
  * opsi-package-manager: Now able to use -t when extracting
  * opsi-product-updater: Support for smtpuser and smtppassword to be
    able to use it with systems that require authentication.
  * opsi-product-updater: Support for SMTP connections that use STARTTLS
  * Debian: Recommend mysql-client as it is useful when creating backups
  * opsi-makeproductfile: new option --no-pigz to disable pigz usage
  * opsi-package-manager: Product properties are sorted by name when
    installing a product with "-p ask".
  * opsi-product-updater: Fix handing over the temp directory when
    installing a package.
  * opsi-product-updater: ProductPackageFile now uses setting "tempDir"
  * opsi-product-updater: Added inherit ProductProperties from Master-Repository
  * opsi-product-updater: Stops if unknown parameter is given on start
  * opsi-product-updater: Limit updates to specific package with "-p"

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 26 Jul 2014 00:03:13 +0200

[[opsi-405-releasenotes-misc-changelogs-opsi-linux-bootimage]]
==== Changelog opsi-linux-bootimage

opsi-linux-bootimage (20140919-2) stable; urgency=medium

  * small fix in spec file

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 01 Oct 2014 00:56:26 +0200

opsi-linux-bootimage (20140919-1) testing; urgency=medium

  * fixing netbios nameresolution
  * advice for screen -x possibility added
  * workarround for scanning devices on HP Smart Array Controller

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 19 Sep 2014 10:03:09 +0200

opsi-linux-bootimage (20140819-1) experimental; urgency=medium

  * lshw updated to B.02.17

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 19 Aug 2014 02:10:29 +0200

opsi-linux-bootimage (20140811-1) experimental; urgency=medium

  * IA-32Emulation for 64 bit bootimage
  * Added opsi-utils to package dependencies

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 12 Aug 2014 12:50:47 +0200

opsi-linux-bootimage (20140729-1) experimental; urgency=low

  * Posix.py:
      Fix for unrecognized partition table
      Fix for readRotational method

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 30 Jul 2014 01:47:48 +0200

opsi-linux-bootimage (20140725-1) experimental; urgency=low

  * updated pigz to ver 2.3.1
  * updated sfdisk to ver 2.25
  * added fixed bytesPerSector problem in Posix.py
  * modprobe patched for bootimage

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 25 Jul 2014 10:21:05 +0200

opsi-linux-bootimage (20140717-1) experimental; urgency=low

  * Bases on Ubuntu Precise (12.04)
  * kernel 3.15.1
  * python-opsi 4.0.5.1
  * uefi-support added

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 04 Jul 2014 14:53:13 +0200


[[opsi-405-releasenotes-misc-changelogs-opsi-depotserver]]
==== Changelog opsi-depotserver

opsi-depotserver (4.0.5.11-1) experimental; urgency=low

  * Only fetching the Samba init command if configuring Samba

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 22 Oct 2014 13:40:03 +0200

opsi-depotserver (4.0.5.10-3) experimental; urgency=low

  * Debian-based postinst: Avoid problems with arguments possibly not executed
    by opsi-setup

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 21 Oct 2014 13:40:03 +0200

opsi-depotserver (4.0.5.10-2) experimental; urgency=low

  * Red Hat-familiy: added requirement samba-client for current distros

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 17 Oct 2014 14:24:41 +0200

opsi-depotserver (4.0.5.10-1) experimental; urgency=low

  * Providing a default for the name of the Samba service

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 08 Oct 2014 14:54:13 +0200

opsi-depotserver (4.0.5.9-1) experimental; urgency=low

  * Fix for creating the service command

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 08 Oct 2014 12:08:26 +0200

opsi-depotserver (4.0.5.8-1) experimental; urgency=low

  * Getting the Samba service name does not depend on files in /etc/init.d

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 08 Oct 2014 11:01:50 +0200

opsi-depotserver (4.0.5.7-1) stable; urgency=low

  * opsi-setup: changed restarting services over service calls
    instead of using init-scripts directly.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 01 Oct 2014 15:26:16 +0200

opsi-depotserver (4.0.5.6-3) experimental; urgency=low

  * Removed automatic update of mysql-backend.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 08 Sep 2014 12:37:51 +0200

opsi-depotserver (4.0.5.6-2) testing; urgency=medium

  * small fix in postinst routine of package.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sat, 23 Aug 2014 04:44:07 +0200

opsi-depotserver (4.0.5.6-1) experimental; urgency=medium

  * --auto-configure-samba fix for executebit problem even if
    opsi_depot-Shareconfig already exists.

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sun, 17 Aug 2014 13:42:03 +0200

opsi-depotserver (4.0.5.5-1) experimental; urgency=low

  * --auto-configure-dhcpd does not fail on missing file

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 11 Aug 2014 17:31:12 +0200

opsi-depotserver (4.0.5.4-1) experimental; urgency=low

  * Workaround for getopt not correctly reading in JSON objects.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 05 Aug 2014 12:29:21 +0200

opsi-depotserver (4.0.5.3-1) experimental; urgency=low

  * Renewing a certificate automatically sets rights on file

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 05 Aug 2014 10:39:18 +0200

opsi-depotserver (4.0.5.2-1) experimental; urgency=low

  * Fix in samba4 detection

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sun, 03 Aug 2014 00:56:54 +0200

opsi-depotserver (4.0.5.1-1) experimental; urgency=low

  * Using OPSI.Util.Task.ConfigureBackend.MySQL
  * Samba4 Fix
  * RHEL / CentOS: Running --auto-configure-dhcp grants rights to opsi
    administrator group on /etc/dhcp
  * Create configuration item "clientconfig.dhcpd.filename" on update
  * Using OPSI.Util.Task.ConfigureBackend.ConfigurationData

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 May 2014 11:48:09 +0200

[[opsi-405-releasenotes-misc-changelogs-opsi-atftp]]
==== Changelog opsi-atftp

opsi-atftp (0.7.dfsg-4) stable; urgency=medium

  * debian/compat added
  * --enable-debug added

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Sat, 23 Aug 2014 04:26:11 +0200


[[opsi-405-releasenotes-misc-changelogs-opsi4ucs]]
==== Changelog opsi4ucs

opsi4ucs (4.0.5.5-4) experimental; urgency=low

  * Using newer version of Debhelper

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 24 Oct 2014 11:50:09 +0200

opsi4ucs (4.0.5.5-3) experimental; urgency=low

  * Changed filename of Configed icon

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 24 Oct 2014 10:47:20 +0200

opsi4ucs (4.0.5.5-2) experimental; urgency=low

  * UCS 3.2: Integration in administration overview page

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 23 Oct 2014 14:55:31 +0200

opsi4ucs (4.0.5.5-1) experimental; urgency=low

  * Only fetching the Samba init command if configuring Samba

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 22 Oct 2014 13:51:46 +0200

opsi4ucs (4.0.5.4-2) experimental; urgency=low

  * Make use of OPSI.System.Posix.getSambaServiceName
  * Changed Samba4 detection to work on all UCS 3.x

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 17 Oct 2014 14:57:54 +0200

opsi4ucs (4.0.5.3-1) experimental; urgency=low

  * 99opsi4ucs.inst: fix detection of Samba 4 and also work on UCS 3.2

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 15 Sep 2014 14:01:49 +0200

opsi4ucs (4.0.5.2-1) experimental; urgency=low

  * --auto-configure-dhcpd does not fail on missing file

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 11 Aug 2014 17:33:00 +0200

opsi4ucs (4.0.5.1-1) experimental; urgency=low

  * Using OPSI.Util.Task.ConfigureBackend.MySQL
  * Create configuration item "clientconfig.dhcpd.filename" on update
  * Using OPSI.Util.Task.ConfigureBackend.ConfigurationData
  * Renewing a certificate automatically sets rights on file
  * Workaround for getopt not correctly reading in JSON objects.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 05 Aug 2014 10:51:18 +0200

[[opsi-405-releasenotes-misc-changelogs-opsi-swaudit]]
==== Changelog opsi-swaudit

swaudit (4.0.5-1) stable; urgency=low

  * Fix writing to long entries in sub_create_hash4 by adding to all string values something like "name="+strPart($name$,"1","99")
  * codecleanup
  * changelog to control file

 -- detlef oertel <d.oertel@uib.de>  Fri, 01 Aug 2014 15:00:00 +0100

