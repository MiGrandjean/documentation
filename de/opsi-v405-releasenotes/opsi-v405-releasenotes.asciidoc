////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; http://creativecommons.org/licenses/by-sa/3.0/de/
; http://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; http://creativecommons.org/licenses/by-sa/3.0/
; http://creativecommons.org/licenses/by-sa/3.0/legalcode
; 
; credits: http://www.opsi.org/credits/
////


:Author:    uib gmbh
:Email:     info@uib.de
:Date:      14.08.2014
:Revision:  4.0.5
:doctype:		book

// Include common opsi terms
include::../common/opsi_terms.asciidoc[]

= opsi Version 4.0.5 Release Notes

// Include common opsi copyright
include::../common/opsi_manual_copyright.asciidoc[]

[[opsi-405-releasenotes-overview]]
== Übersicht der Neuerungen

Das opsi Service Releases 4.0.5 weist eine Fülle von Neuerungen und Detailverbesserungen auf. Hier eine Übersicht:

* Ab opsi 4.0.5 werden folgende Distributionen als opsi-server unterstützt: +
** Ubuntu: 10.04 (Lucid), 12.04 (Precise), 14.04 (Trusty)
** Debian: 6.0 (Squeeze), 7.0 (Wheezy)
** UCS 3.0, 3.1, 3.2
** openSUSE 12.3, 13.1
** SLES 11SP1, 11SP3
** Fedora 20
** RHEL 6
** CentOS 6.5


* Keine Unterstützung mehr für: +
** 

Da auch die oben genannten Repositories geschlossen werden, sind die Pakete mit 4.0.5 nicht mehr verfügbar. Für den Fall, dass die letzten freigegebenen Pakete für diese Distributionen noch einmal benötigen werden, haben wir ein Archiv dieser Repositories abgelegt, dieses befindet sich unter:

http://download.uib.de/opsi4.0/archiv/discontinued_platforms/



* opsi Serverkomponenten: +
** 

* Neues opsi-bootimage basierend auf Ubuntu Precise / Kernel 3.1.15 mit Unterstützung für aktuelle Hardware (wie z.B Tablets), UEFI Support und Unterstützung für Linux Fesplattenverschlüsselung.

* Windows Netboot Produkte +
** Treiberintegration per 'byAudit' nun auch nach 'vendor' und 'model' des Motherboards
** Soweit sinnvoll volle UEFI/GPT Kompatibilität
** Neues Property 'setup_after_install' zur Ablauf Automatisierung.

* opsi-winst / opsi-script: +

** Logging jetzt nach c:\opsi.org\log\opsi-script.log

** Neue Konstanten:

*** `%opsiDepotId%` : Depotserver // since 4.11.4

*** `%opsiTmpDir%` : `c:\opsi.org\tmp` // since 4.11.4.3

*** `%opsiLogDir%` : `c:\opsi.org\log` // since 4.11.4.3

** Neue Funktionen zum Umgang mit key/value Paaren in Konfigurationsdateien:

*** Stringfunktion: `getValueFromFile(`<key string>, <file name>`)` //since 4.11.4.4 [W/L]

*** Stringfunktion: `getValueFromFileBySeparator(`<key string>,<separator string>,<file name>`)` //since 4.11.4.4 [W/L]

*** PatchTextFile Sektionskommandos:

*** `setKeyValueSeparator` <separator char> //since 4.11.4.4 [W/L]

*** `setValueByKey` <keystr> <valuestr> //since 4.11.4.4 [W/L]

** Encoding Funktionen (Handbuch lesen !):

*** string function `reencodestr(` <str> , <from>, <to> `)`

*** stringlist function `reencodestrlist(` <strlist> , <from>, <to> `)`

** Sonstiges:

*** `saveTextFile(`<list>, < filename>`)` //since 4.11.4.4 [W/L]

*** stringlist function `shellCall(` <cmd> `)` ; returns the output of (sysnative) shell with cmd

*** Befehl `IncludeLog` jetzt mit zusätzlichen encoding Parameter

* Sonstige Produkte: +

** Fixes in swaudit

* opsi-configed: +
Umfangreich überarbeitete Version: Siehe gesondertes Kapitel.

* opsi Linux Unterstützung: +
Siehe gesondertes Kapitel.

* opsi uefi (Netboot) Unterstützung: +
Siehe gesondertes Kapitel.

* Images mit opsi clonezilla: +
Siehe gesondertes Kapitel.

* opsi Erweiterung opsi-local-image (für Schulungsräume): +
Siehe gesondertes Kapitel.

* opsi-setup-detector (Automatisierte Erstellung von opsi Paketen): +
Siehe gesondertes Kapitel.

* opsi-client-agent: +
** Fixes für Windows 8.x (Loginblocker)

////
Für Details lesen Sie bitte das opsi-v405-releasenotes Handbuch bzw. die überarbeiteten opsi Handbücher.
////

[[opsi-405-releasenotes-samba4]]
== Samba 4

Die ersten Dirstributionen werden nun mit samba 4 ausgeliefert.

Aktuell werden Ubuntu 14.04 und openSuse 13.1 mit samba 4 Paketen ausgeliefert. Diese Pakete sind von sich aus nicht dazu geeignet ganze Domänen zu verwalten, haben aber bei den Freigaben das verhalten von samba 4.

In Samba 3 war es allgemein erlaubt, jede Datei oder Verzeichnis auf den Clients aus zu führen. Dieses Verhalten wurde in Samba 4 komplett verändert. Nun müssen alle Dateien, die über den Share ausführbar sein sollen, auch auf der Unix-Seite das Executable-Bit setzen.

Dies stellt ein allgemeines Problem für den Betrieb von opsi dar. Es ist nicht möglich dieses Verhalten über die Rechteverwaltung von opsi zu umgehen, da dies eine komplette Überarbeitung des Rechtesystems von opsi erfordern würde. Dies ist in der opsi 4 nicht möglich.

Um das Problem mit opsi 4.0 dennoch zu umgehen, gibt es zwei Möglichkeiten. 

1. Auf den betroffenen Freigaben kann über die Freigabenkonfiguration über die Option:
admin users = @pcpatch

jedes Mitglied der pcpatch-Gruppe (Freigaben-User) dieses Verhalten ausgehebelt werden. Diesen Fix setzt opsi schon seit längerem auch bei UCS >= 3 mit Samba 4 ein. Bei diesem Fix wird der Samba-Prozess der User mit erhöhten Rechten ausgeführt.

Opsi setzt automatisch bei samba 4 Distributionen über opsi-setup --auto-configure-samba diese Option für den opsi_depot Share. Da dieser nur Readonly gemounted wird, ist das Sicherheitsrisiko relativ gering.

2. Man kann Global folgende Option in der smb.conf setzen:
allow general executable = True

Durch diese Option wird für alle Freigaben das Verhalten von samba 3 wiederhergestellt.

Sollte es gewünscht sein, dass die anderen Shares von diesem Problem nicht mehr betroffen sind, kann man entweder die 1. Option für jeden Share manuell setzen oder die Option von 2 Global in die smb.conf setzen. Die zweite Option gilt dann aber für alle Freigaben, auch für die, die nicht von und für opsi bereitgestellt werden.

[[opsi-405-releasenotes-eol]]
== Abkündigung

In diesem Kapitel werden die Abkündigungen aufgelistet. Diese Distributionsversionen werden aus verschiedenen Gründen nicht mehr weiter von opsi unterstützt.

[[opsi-405-releasenotes-eol_windows]]
=== Abkündigung: Windows Versionen

Ab opsi v 4.0.5 werden wir die Netbootpakete für Windows Vista und Server 2008 nicht mehr weiter pflegen. Ebenso planen wir für diese Windowsversionen die Unterstützung in den Update Abo's einzustellen. Wer hierzu Fragen oder Probleme hat möge sich bei uns melden.

Windows XP / Server 2003 ist bekannter Maßen von Microsoft nicht mehr Unterstützt. Wir werden wegen der weiten Verbreitung diese Pakete noch eine Zeitlang pflegen. Trotzdem kündigen wir auch hier an, diese Pflege in absehbarer Zeit einzustellen und empfehlen Ihnen dringend den Wechsel auf eine neuere Windows Version (oder Linux).

[[opsi-405-releasenotes-eol_opsiprod]]
=== Abkündigung: opsi Produkte

Ab opsi v 4.0.5 werden die opsi Produkte

* ntfs-write-image

* ntfs-restore-image

nicht mehr unterstützt. Diese Produkte werden in ihrer Funktionalität durch das neue Produkt opsi-clonezilla ersetzt (Siehe gesondertes Kapitel).

[[opsi-405-releasenotes-eol_python25]]
=== Abkündigung der Python 2.5 Unterstützung

Die nicht mehr mit Updates versorgte Python-Version 2.5 wird nicht mehr unterstützt. Opsi benötigt Python 2.6 oder Python 2.7.

[[opsi-405-releasenotes-eol_distros]]
=== Abkündigung: Distributionsversionen

Folgende Systeme werden mangels Maintainance vom Hersteller abgekündigt:

** 

Auch die oben genannten Repositories wurden am 31.12.2013 geschlossen. Für betroffene Installationen empfehlen wir dringend ein OS-Upgrade durch zu führen. Allerdings sollten Sie vorher prüfen, ob die Version zu der Sie aktualisieren wollen auch von opsi unterstützt wird.



[[opsi-405-releasenotes-installation]]
== Hinweise zur Installation

Wir empfehlen vor der Installation des Updates (sicherheitshalber) mit opsi-backup eine Sicherung Ihres Backends durchzuführen:
[source,prompt]
----
opsi-backup create
----


Die Produkte welche im Rahmen dieses Releases veröffentlicht werden, sind in etlichen Teilen voneinander abhängig. Sie sollten daher nicht versuchen nur Teile zu installieren.

Sie sollten dabei zuerst den Server updaten und danach die opsi-Produkte.


[[opsi-405-releasenotes-installation-opsipackages]]
=== Hinweise zum aktualisieren von opsi-Paketen

////
Bitte nachstehenden Block bei release nicht löschen sondern auskommentieren
////
Zur Installation der experimental Serverpakete müssen Sie das opsi Repository ändern von 'opsi40' auf 'opsi40-experimental'. +
Zum Beispiel bei Ubuntu 12.04: +
`deb http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40/xUbuntu_12.04 ./` +
ersetzen durch: +
`deb http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40-experimental/xUbuntu_12.04 ./`

Danach müssen Sie Ihre Pakete updaten. +
Zum Beispiel bei Ubuntu / Debian:
[source,prompt]
----
aptitude update
aptitude dist-upgrade
----

Zur Installation der experimental opsi Produkte 
[source,prompt]
----
cd /home/opsiproducts
mkdir opsi-v405
cd opsi-v405
# Standard Pakete:
wget -r -l1 -nc -nd -A "*.opsi" http://download.uib.de/opsi4.0/experimental/opsi-v405/products/
# opsi-local-image Pakete:
wget -r -l1 -nc -nd -A "*.opsi" http://download.uib.de/opsi4.0/experimental/opsi-v405/opsi-local-image/
# opsi-linux Pakete:
wget -r -l1 -nc -nd -A "*.opsi" http://download.uib.de/opsi4.0/experimental/opsi-v405/opsi-linux/
opsi-package-manager -i *.opsi
----
Sollte der wget Befehl scheitern, so muss evtl. die Umgebungsvariable http_proxy auf den korrekten Proxystring gesetzt werden (z.B. http_proxy=http://192.168.1.5:8080/)

////
Bitte vorstehenden Block bei release nicht löschen sondern auskommentieren
////
////

Die Installation erfordert keine besonderen Arbeiten. Sie erfolgt im Rahmen der normalen Updates ihres Servers und der opsi-Produkte.

Sie sollten dabei zuerst den Server updaten. Benutzen Sie dazu die Befehle entsprechend Ihrer Linux-Distribution. +
Danach die opsi-Produkte. Dies erledigt der opsi-product-updater:

[source,prompt]
----
opsi-product-updater -i -vv
----
////

Sollten Sie eine Multidepot Umgebung haben, so machen Sie zunächst das Upgrade auf Ihrem config-server, bevor Sie die Depots upgraden.

[[opsi-configed]]
== opsi-configed 4.0.5.

[[opsi-405-releasenotes-configed-depotserver-auswahl]]
=== Auswahl der Depot-Server
Durch den schnelleren Wechsel zwischen der depot-server, entfällt die Notwendigkeit einen kompletten Daten-Reaload durchzuführen, d.h. beim auswählen eines Depots werden seine Daten sofort geladen. + Dazu kommen folgende Buttons:

* (=+) : Alle Depots mit identischen Produkten werden ausgewählt 
* (++) : Alle Depots werden ausgewählt (auch mit _Strg-a_ möglich)

.'{opsi-configed}': Auswahl der Depot-Server
image::../images/opsi-configed-depotserver-auswahl.png["{opsi-configed}: Auswahl der Depot-Server", width=250] 


[[opsi-405-releasenotes-configed-wakeOnLan-funktionalitaet]]
=== Client-Erreichbarkeit
Die Client-Erreichbarkeit wurde erweitert, sodass sie im Hintergrund standardmäßig alle 10 Minuten die Verfügbarkeit der Clients getestet und in der Client-Tabelle anzeigt wird. Das Intervall lässt sich in der Anmeldemaske ändern. +
 image:../images/opsi-configed-client-erreichbar.png["Client erreichbar",width=20] : Client erreichbar +
 image:../images/opsi-configed-client-nicht-erreichbar.png["Client nicht erreichbar",width=20] : Client nicht erreichbar

[[opsi-405-releasenotes-configed-failed-products]]
=== Fehlgeschlagene Aktionen
Aus der Gruppenansicht wurde die ``REPORT: FAILED'' Gruppe entfernt. Als neue Möglichkeit, fehlerhafte Installationen zu suchen, gibt es unter dem Menüpunkt _Auswahl_ die Punkte _Fehlgeschlagene Aktionen bei Produkt..._ und _Fehlgeschlagene Aktionen_ (heute, seit gestern, ...). +
Wählt man den ersten Punkt, erhält man eine Liste aller Produkte. Selektiert man ein Produkt, so werden 
alle Clients markiert, bei denen die Installation dieses Produktes fehlgeschlagen ist. +
Wählt man z.B. _Fehlgeschlagene Aktionen_ - _heute_, werden all die Clients markiert, bei denen heute mindestens ein Produkt fehlgeschlagen ist. 

.'{opsi-configed}': Fehlgeschlagene Aktionen
image::../images/opsi-configed-failedactions-heute.png["{opsi-configed}: Fehlgeschlagene Aktionen - heute", width=250] 

[[opsi-405-releasenotes-configed-produkt-defaultproperties]]
=== Produkt-Defaultproperties
Um die Defaultwerte der Produkte für einzelne oder mehrere opsi-depots zu ändern, gibt es einen neuen Reiter _Produkt-Defaultproperties_. Dieser wird erst auswählbar, wenn man zur Depotkonfiguration (zweiter Button oben rechts) wechselt. +
In der Haupttabelle werden alle Produkte mit der Produkt-Version und der Package-Version aufgelistet.
Wählt man ein Produkt aus, so werden, wie aus der Client-Produktkonfiguration gewohnt, rechts oben die allgemeinen Informationen zum Produkt-Paket angezeigt. Darunter befindet sich die Auflistung aller Depots, die das ausgewählte Produkt besitzen. Die unterhalb befindliche Tabelle mit den Property-Schlüsseln und Werten ist ebenfalls bekannt aus der Client-Produktkonfiguration.

[[image-configed-product-defaultproperties]]
.'{opsi-configed}': Produkt-Defaultproperties
image::../images/opsi-configed-produkt-defaultproperties-jedit-verschiedene-werte.png["{opsi-configed}: Produkt-Defaultproperties: jEdit", width=500]
Man kann ein oder mehrere Depots auswählen, um die Defaultwerte (d.h. die Depotwerte) des Produktes zu ändern. Als Voreinstellung werden alle verfügbaren Depots ausgewählt. Mit den üblichen Tastenkombinationen (_Strg-a_, _Strg-Klick_ oder _Shift-Klick_) lassen sich mehrere bzw. alle Clients markieren. + 
Ist der Property-Wert ausgegraut (siehe <<image-configed-product-defaultproperties>> - ``gui_language''), so sind auf den ausgewählten Depots verschiedene Werte für diese Property gesetzt. Rechts neben den Depots befinden sich drei Buttons: 

* (=+): Markiere alle Depots mit identischen Werten  +
Alle Depots, die die gleichen Default-Werte haben, werden markiert.
* (++): Alle Depots werden markiert. 
* (Weltkugel): Setze die Paket-Default-Werte +
Die Original-Paket-Werte des Produkts werden für das/die ausgewählte/n Depot/s gesetzt. 

[[opsi-405-releasenotes-bootimage]]
== Opsi-linux-bootimage

Das opsi-linux-bootimage wurde komplett überarbeitet. Zunächst wurde das Bootimage auf Ubuntu 12.04 aktualisiert. Dieser Schritt war nötig, da viele Funktionen, die für die neuen Module von opsi benötigt werden, nicht mehr in Ubuntu 10.04 zur Verfügung stehen.

Somit wurden alle Teile des Bootimage auf einen neuen Stand aktualisiert.

Weitere Neuerungen sind nun erweiterte Funktionalität mit Verschlüsselung.

[[opsi-405-releasenotes-bootimage-byaudit-fallback]]
=== Fallback für byAudit

opsi hat seit längerem das Feature, die Additional-Treiber-Zuweisung automatisiert über das Hardwareinventarisierung durch zu führen. Dieses Feature setzt aber voraus, dass die eingesetzte Hardware der Clients sauber vom Hersteller "Branded" wurden. Bei größeren OEMs wie Dell, HP oder Fujitsu Siemens, ist das in der Regel auch der Fall.

Es kommt allerdings mittlerweile sehr oft vor, dass ganze Chargen von Computern über einen kleineren Lieferanten beschafft werden. Die haben mit dem Branding der Geräte ein Problem. Bei diesen Clients ist es sehr oft so, dass Sie von der Hardware her identisch sind. Wenn man allerdings den Hersteller und das Modell des Geräts ausliest, sind diese Felder meistens leer.

In einem solchen Fall gibt es mit opsi 4.0.5 einen Fallback. Dieser wurde über das Mainboard realisiert. Dies Funktioniert vergleichsweise Identisch mit der eigentlichen byAudit Treiberzuweisung, nur dass statt Hersteller und Model vom Gerät, dass selbe verfahren als Fallback mit dem Hersteller und den Namen des Boards umgesetzt wird.

include::../common/opsi_manual_linux.asciidoc[]

include::../common/opsi_manual_uefi.asciidoc[]

include::../common/opsi_manual_clonezilla.asciidoc[]

include::../common/opsi_manual_local-image.asciidoc[]

include::../common/opsi_manual_setup_detector.asciidoc[]



[[opsi-405-releasenotes-misc]]
== Sonstiges

[[opsi-405-releasenotes-misc-changelogs]]
=== Changelogs:

[[opsi-405-releasenotes-misc-changelogs-opsi-client-agent]]
==== Changelog opsi-client-agent

opsi-client-agent (4.0.4.5-4) stable; urgency=low

  * opsi-winst 4.11.4.4
  
 -- Detlef Oertel <d.oertel@uib.de>  Fri, 25 Apr 2014 15:00:00 +0100


opsi-client-agent (4.0.4.5-3) stable; urgency=low

  * new opsiloginblocker.dll V1.2.0.5/credential provider filter (no multiple timeouts)
  * new opsigina.dll 1.3.0.2 (no multiple timeouts) 
  * fix in lib directory of opsi-winst; https://forum.opsi.org/viewtopic.php?f=6&t=6142
  * sub_restore_productOnClient: restore productOnClient if found in c:\opsi.org\tmp (for capture image use)
  * opsi-winst 4.11.3.11
  
 -- Miriam Michaelis <m.michaelis@uib.de>  Tue, 18 Mar 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-2) stable; urgency=low

  * opsi-winst 4.11.4.3
  * use of isDriveReady to disable  critical-error-handler message box. (Drive not ready)  
  
 -- Detlef Oertel <d.oertel@uib.de>  Thu, 20 Mar 2014 15:00:00 +0100


opsi-client-agent (4.0.4.5-1) stable; urgency=low

  * new credential provider filter with fix for >= nt6.2 opsiloginblocker.dll V1.2.0.2
  * loginblocker logfile written to dir opsi.org\log
  
 -- Miriam Michaelis <m.michaelis@uib.de>  Tue, 18 Mar 2014 15:00:00 +0100


[[opsi-405-releasenotes-misc-changelogs-opsi-winst]]
==== Changelog opsi-winst

opsi-winst/opsi-script (4.11.4.4) stable; urgency=low

  * osfunclin: RunCommandAndCaptureOut: Log exitcode on Loglevel LLInfo
  * osparser: linkActionsMain: fix for index out of bound (while (i <= Sektion.count))  fixes: #958
  * osfunc: StartProcess_cp: log error if time out is reached (inc's error counter)  fixes #506
  * new commands in PatchTextFile (osparser:doTextpatchMain):
         'setKeyValueSeparator char' sets Separator for key value pairs (default is '=')
         'setValueByKey keystr valuestr' search exitsing key and sets the given value.
           If the key not exists, the key/value pair will be created below the line cursor.
  * osparser: scriptstopped := true on ExitWindows /ImmediateReboot and  /ImmediateLogout
  * new function: getValueFromFile (<key string>,<file name> ) : string
  * new function: getValueFromFileBySeparator (<key string>,<separator string>,<file name> ) : string
  * new function: saveTextFile(<list>, < filename>) : bool
  * osparser: TuibInstScript.doAktionen: output initalized (created) fixes #974
  * osfunc: enhanced: TXStringList.getStringValue
  * osparser: produceStringlist: fix in emptylist() function

-- Detlef Oertel <d.oertel@uib.de>  Thu,  20 Mar 2014:15:00:00 +0200


opsi-winst/opsi-script (4.11.4.3) stable; urgency=low

  * opsparser: doFileActions: fix for mixed File section modifiers
  * osfunc: TuibRegistry.WriteEntry: fix logging if regtype is changed: fixes #780
  * osfunc: wait for parent ending also if waitforprocessending is true
  * osfunc: FileCopyWin: use of windows.copyFile instead of fileutils.copyFile
  * osparser: Stingreplace with IgnoreCase for %userprofiledir%  fixes #877
  * osparser: new constant %opsiTmpDir% (c:\opsi.org\tmp ; /tmp )
  * osparser: new constant %opsiLogDir% (c:\opsi.org\log ; /var/log/opsi-client-agent/opsi-script )
  * osparser: new command: FatalOnRuntimeError (default = false)
  * osparser: takeString: LogError if index out of bounds; Fatal if FatalOnSyntaxError
  * oslog: escape control chars
  * osfunc: allcopy/execdelete: handle directories with additional attributes (e.g. hidden)
  * osparser: new function doRegistryNTUserDat
  * new Registry Parameter /NTuserDat: <path to ntuser.dat>
  * osmain: ProcessProduct: looks before processing a product if there is still a action request
  * osparser: for fileExists: replace GetFileInfo by  "FileExists() or DirectoryExists()"
  * fixes to really stop the script interpretation after isfatalerror, issuccess, issuspended
  * new unit opsihwbiosinfo based on tsmbios
  * new infomap getHWBiosInfoMap
  * new bool function runningOnUefi      fixes #908
  * new bool function isDriveReady(str)
  * doFileActions: disable windows critical Error Message boxes (SetErrorMode(SEM_FAILCRITICALERRORS))

-- Detlef Oertel <d.oertel@uib.de>  Mon,  9 Dec 2013:15:00:00 +0200



opsi-winst/opsi-script (4.11.4.2) stable; urgency=low

  * make 4.11.4 working under windows
  * osencoding: searchencoding: new methode to read encoding
  * osinteractivegui: opendialog knows now *.ins and *.opsiscript
  * new string function reencodestr(str, from, to)
  * new stringlist function reencodestrlist(strlist, from, to)
  * new stringlist function shellCall( cmd ) ; returns the output of (sysnative) shell with cmd
  * getipByName now uses resolveip at linux
  * manifest extended for win 8.1: <supportedOS Id="{1f676c76-80e1-4239-95bb-83d0f6d0da78}"/>:
    http://msdn.microsoft.com/en-us/library/windows/desktop/dn302074%28v=vs.85%29.aspx
  * fix: use of sysnative with winbatch

-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Sep 2013:15:00:00 +0200

opsi-winst/opsi-script (4.11.4.1) stable; urgency=low

  * splitted project to opsi-script and opsi-script-nogui
  * splitted unit osmain to osmain and osinteractivegui
  * changed unit names:  * wi* -> os*
  * fixed: Feature  491 : real origin file and line number on syntax error (also on included parts)
  * new unit osencode which contain encoding functions
      known encodings are
        UTF-8      utf8
        UTF-8BOM   utf8bom
        Ansi       ansi
        CP1250     cp1250
        CP1251     cp1251
        CP1252     cp1252
        CP1253     cp1253
        CP1254     cp1254
        CP1255     cp1255
        CP1256     cp1256
        CP1257     cp1257
        CP1258     cp1258
        CP437      cp437
        CP850      cp850
        CP852      cp852
        CP866      cp866
        CP874      cp874
        CP932      cp932
        CP936      cp936
        CP949      cp949
        CP950      cp950
        ISO-8859-1 iso8859-1
        ISO-8859-2 iso8859-2
        KOI-8      koi8
        UCS-2LE    ucs2le
        UCS-2BE    ucs2be
  * fixed: Bug 554 : includelogtail calls reencode
  * command IncludeLog has now an optional 3rd parameter sourceEncoding which may be 'auto', 'system' or a valid encoding.
  * nearly all loadfromfile now with reencode
  * script encoding can now be given with for example
      encoding=utf8
  * loglevel of if/else/endif changed to LLinfo (6) fixes 539
  * loglevel of setLoglevel  changed to LLinfo (6) fixes 535
  * new command 'IsSuspended' interupts script execution and leave productOnClient unchanged   Feature #614
  * shellbatch output is now captured
  * fix in linux getprocesslist: output now: short binary name;pid;user;full command line


-- Detlef Oertel <d.oertel@uib.de>  Tue,  30 Jul 2013:15:00:00 +0200


opsi-winst/opsi-script (4.11.4) stable; urgency=low

  * port to Linux
  * removed logginig via syslog
  * %opsiDepotId%
  * changed unit names:
     * wisynth -> osparser
     * wibatch -> osbatchgui
     * wimain -> osmain
     * wifunc -> osfunc
     * wiwin32 -> osfuncwin2
  * new string function: getLinuxDistroType
  * new stringlist function: getLinuxVersionMap

-- Detlef Oertel <d.oertel@uib.de>  Tue,  30 Apr 2012:15:00:00 +0200


[[opsi-405-releasenotes-misc-changelogs-windows-netboot]]
==== Changelog windows netboot products

windows (4.0.5-1) stable; urgency=low
	* new property setup_after_install (do)
	* create_driver_links.py: do not extract buildIn-drivers from winpe
	* do not change UAC
	* update opsisetuplib.py
  	* sort disks
	* reread changed from sfdisk to partprobe
	* small fix in sfdisk execution
 -- erol ueluekmen <e.ueluekmen@uib.de>  Fri, 18 Jul 2014 12:01:53 +0200

windows (4.0.4-3) stable; urgency=low

	* use of opsisetuplib.py
	* Swapoff all to avoid disk in use
	* copy of winpe_uefi removed

 -- detlef oertel <d.oertel@uib.de>  Fri, 11 Apr 2014 16:01:53 +0200

windows (4.0.4-2) stable; urgency=low

	* UEFI / GPT enabled

 -- detlef oertel <d.oertel@uib.de>  Tue, 25 Feb 2014 16:01:53 +0200

[[opsi-405-releasenotes-misc-changelogs-linux-netboot]]
==== Changelog linux netboot products

.Ubuntu

ubuntu-4.0.5-2 stable; urgency=low
  * added HD-encryption
  * new property encrypt_logical_volumes (will set use_logical_volumes to True)
  * new property encrypt_password
  * need bootimage >= 20140704
-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Jun 2014:15:00:00 +0200

ubuntu-4.0.5-1 stable; urgency=low
  * added lvm
  * needs opsi 4.0.5 bootimage
  * new property use_logical_volumes
-- Detlef Oertel <d.oertel@uib.de>  Wed,  4 Jun 2014:15:00:00 +0200

ubuntu-4.0.4-5 stable; urgency=low
  * added lvmClearVolumeGroups()
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)
-- Detlef Oertel <d.oertel@uib.de>  Fri,  20 May 2014:15:00:00 +0200

ubuntu-4.0.4-4 stable; urgency=low
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
-- Detlef Oertel <d.oertel@uib.de>  Fri,  02 May 2014:15:00:00 +0200

ubuntu-4.0.4-3 testing; urgency=low
  * added trusty thar (14.04)
  * retries at debootstrap
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
-- Detlef Oertel <d.oertel@uib.de>  Tue,  18 Mar 2014:15:00:00 +0200

ubuntu-4.0.4-2 UNRELEASED; urgency=low
  * needs now opsi linux bootimage version: 20140118
  * removed 64bit opsi-linux-bootimage and kernel from package
  * modified pxetemplate for new bootimage support
  * small fix in ubuntu.py
  * SERVER_DATA removed
  * fixed postinst
  * UEFI/GPT Support
  * new property setup_after_install

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri,  07 Feb 2014:01:00:00 +0200

ubuntu-4.0.4-1 experimental; urgency=low
  * needs now opsi linux bootimage version: 20131021
  * added 64bit opsi-linux-bootimage
  * new property: release
  * install linux-image after grup
  * additional run of update-grub
  * debootstrap script for saucy (copy from raring)
  * pkgdetails for all releases
  * removed property 'desktop'

 -- Detlef Oertel <d.oertel@uib.de>  Tue,  24 Sep 2013:15:00:00 +0200

ubuntu-12.0.4-8 experimental; urgency=low
  * new property: proxy
  * dirtyhack in ubuntu.py: Devicefile not found by creating swap

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed,  21 Aug 2013:11:00:00 +0200

ubuntu-12.0.4-7 testing; urgency=low
  * new property: install_opsi-client-agent
  * integration of the Linux opsi-client-agent 4.0.3.2-1
  * some more ' --force-yes'

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  1 Jul 2013:15:00:00 +0200

ubuntu-12.0.4-6 testing; urgency=low
  * timeout (1000 seconds) on debootstrap call

 -- Detlef Oertel / Erol Ueluekmen <info@uib.de>  Tue,  18 June 2013:15:00:00 +0200

ubuntu-12.0.4-5 testing; urgency=low

  * remove property: delete_partition_table (always/if_needed/never) (default=always)
  * new property: data_partition_preserve (always/if_possible/never) (default=never)
  * integrated 64bit opsi-linux-bootimage
    - version 20130427
    - kernel 3.6.11
    - python-opsi 4.0.3.2-1
  * added architecture productProperty
  * added 32 / 64 Bit Support (installs 64 Bit System if started from 64 Bit bootimage)
  * added UEFI/GPT Support
  * minimum disk size changed to 5GB

 -- Detlef Oertel / Erol Ueluekmen <info@uib.de>  Tue,  30 Apr 2013:15:00:00 +0200

ubuntu-12.0.4-4 testing; urgency=low
  * added desktop 'cinnamon'. Will be installed on top of a unity
  * added property wget_and_execute
  * user now in sudo group
  * fixes in unity and xfce installation

 -- Detlef Oertel <d.oertel@uib.de>  Thu,  03 Apr 2013:15:00:00 +0200

ubuntu-12.0.4-3 testing; urgency=low
  * fit to partition scheme for opsi-image-local-(backup/restore)

 -- Detlef Oertel <d.oertel@uib.de>  Fri,  04 Jan 2013:15:00:00 +0200

ubuntu-12.0.4-2 testing; urgency=low
  * update ubuntu.py to opsi 4.0.2-3 standard

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  17 Dec 2012:15:00:00 +0200

ubuntu-12.0.4-1 testing; urgency=low
  * update to 12.04

 -- Detlef Oertel <d.oertel@uib.de>  Fri,  14 Dec 2012:15:00:00 +0200

ubuntu-8.0.4-3 testing; urgency=low
  * changing source var to opsi_depot share (no more 'install')

 -- Detlef Oertel <d.oertel@uib.de>  Fri,  14 Dec 2012:15:00:00 +0200

ubuntu-8.0.4-2 testing; urgency=low

  * initial (J.Schneider ?) 13.5.2009

.openSUSE

opensuse13-1_13.01-4 testing; urgency=low
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)
  * code cleanup
  * new property: setup_after_install
  * new property: wget_and_execute
-- Detlef Oertel <d.oertel@uib.de>  Mon,  28 Jul 2014:15:00:00 +0200

opensuse13-1_13.01-3 testing; urgency=low
  * UUID for storage devices
  * added lvmClearVolumeGroups()
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
-- Detlef Oertel <d.oertel@uib.de>  Tue,  20 May 2014:15:00:00 +0200

opensuse13-1_13.01-2 UNRELEASED; urgency=low
  * needs now opsi linux bootimage version: 20140118
  * removed 64bit opsi-linux-bootimage and kernel from package
  * modified pxetemplate for new bootimage support
  * SERVER_DATA removed
  * fixed postinst
  * fix install opsi server
  * UEFI/GPT Support
  * new property setup_after_install

-- Detlef Oertel <d.oertel@uib.de>  Tue,  18 Feb 2014:15:00:00 +0200

opensuse13-1_13.01-1 stable; urgency=low
  * port from opensuse12-3
-- Detlef Oertel <d.oertel@uib.de>  Tue,  9 Dec 2013:15:00:00 +0200

opensuse12-3_12.03-1 stable; urgency=low
  * port from opensuse (version now part of name because rpms included)
-- Detlef Oertel <d.oertel@uib.de>  Tue,  9 Dec 2013:15:00:00 +0200

opensuse-12.03-2 experimental; urgency=low
  * minimal rpms
-- Detlef Oertel <d.oertel@uib.de>  Tue,  26 Sep 2013:15:00:00 +0200

opensuse-12.03-1 experimental; urgency=low
  * update to 12.03
-- Detlef Oertel <d.oertel@uib.de>  Tue,  24 Sep 2013:15:00:00 +0200

opensuse-10.03-1 experimental; urgency=low

  * initial (J.Schneider ?) 13.5.2009

.Fedora 20

fedora_20_20-4 stable; urgency=low
  * added lvmClearVolumeGroups()
  * removed property use_raid1 (now always false)
  * removed property blockAlignment (now always true)
  * use opsipreparelib.py (is symbolic link: use opsi-makeproductfile -h)
  * new property setup_after_install
  * new property wget_and_execute
  * 32Bit support
-- Detlef Oertel <d.oertel@uib.de>  Tue,  20 May 2014:15:00:00 +0200

fedora_20_20-3 stable; urgency=low
  * retries at base installation
  * use opsisetuplib.py (is symbolic link: use opsi-makeproductfile -h)
-- Detlef Oertel <d.oertel@uib.de>  Tue,  22 Apr 2014:15:00:00 +0200

fedora_20_20-1 stable; urgency=low
  * port from opensuse13-1
-- Detlef Oertel <d.oertel@uib.de>  Mon,  23 Dec 2013:15:00:00 +0200

opensuse13-1_13.01-1 stable; urgency=low
  * port from opensuse12-3
-- Detlef Oertel <d.oertel@uib.de>  Tue,  9 Dec 2013:15:00:00 +0200

opensuse12-3_12.03-1 stable; urgency=low
  * port from opensuse (version now part of name because rpms included)
-- Detlef Oertel <d.oertel@uib.de>  Tue,  9 Dec 2013:15:00:00 +0200

opensuse-12.03-2 experimental; urgency=low
  * minimal rpms
-- Detlef Oertel <d.oertel@uib.de>  Tue,  26 Sep 2013:15:00:00 +0200

opensuse-12.03-1 experimental; urgency=low
  * update to 12.03
-- Detlef Oertel <d.oertel@uib.de>  Tue,  24 Sep 2013:15:00:00 +0200

opensuse-10.03-1 experimental; urgency=low

  * initial (J.Schneider ?) 13.5.2009


[[opsi-405-releasenotes-misc-changelogs-opsi-local-image]]
==== Changelog opsi-local-image

.opsi-local-image-backup

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-backup (4.0.5.1-2) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-backup (4.0.5.1-1) stable; urgency=low
	* new property setup_after_install
	* disk sorting
 -- detlef oertel <d.oertel@uib.de>  Thu, 10 Jul 2014 16:01:53 +0200

opsi-local-image-backup (4.0.4.3-1) stable; urgency=low

	* opsisetuplib.py update
	* code cleanup

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-backup (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* remove action requests from poc store

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-backup (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support
	* Showing a progress bar when creating a backup.

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-backup (4.0.4.1-1) stable; urgency=low

  * Handles imagefile names with spaces (internal as '_')
  * fix: stores always the correct netboot product name

 - detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-backup (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

 - detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-backup (4.0.3-4) stable; urgency=low

  * internal syntax fix: fix image list
  * use partclone with --dev-to-dev instead of --clone

 - detlef oertel <d.oertel@uib.de>  25 Jun 2013

opsi-local-image-backup (4.0.3-3) experimental; urgency=low

  * internal syntax fix: initialize 'goon'

 - detlef oertel <d.oertel@uib.de>  11 Apr 2013

 opsi-local-image-backup (4.0.3-2) experimental; urgency=low

  * new product property 'imagefile'

 - detlef oertel <d.oertel@uib.de>  12 Mar 2013

opsi-local-image-backup (4.0.3-1) experimental; urgency=low

  * initial

 - detlef oertel <d.oertel@uib.de>  15 Oct 2012

.opsi-local-image-capture

opsi-local-image-capture (4.0.5.1-5) stable; urgency=low
	* disabled all calls of ShellInAnIcon_copylog
 -- detlef oertel <d.oertel@uib.de>  Tue, 29 Jul 2014 16:01:53 +0200

opsi-local-image-win* (4.0.5.1-4) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-3) stable; urgency=low
	* delete c:\tmp before capture
	* delete c:\drv before capture
 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-2) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-1) stable; urgency=low
	* removed property capture_architecture
	* rewmoved property imagefilename
	* removed retry by sdfisk --re-read replaced by partprobe
	* code cleanup
	* fix gpt hidden winpe partition
	* windows partition before reboot and unhide while pe run (PE have to be c:)
	* auto detect drive letter for windows partition (may be different on existence of CD or other partitions)
	* fall back from dism to imagex if dism fails
	* uefi: switch back to uefi netboot (for e.g. opsi-local-image restore)
 -- detlef oertel <d.oertel@uib.de>  Tue, 15 Jul 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.4-2) stable; urgency=low
	* fixes in setup.py
	* special winst64.exe with ssl
	* removed use of property capture_architecture
	* rewmoved use of property imagefilename

 -- detlef oertel <d.oertel@uib.de>  Fri, 20 Jun 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.4-1) stable; urgency=low

	* switch back to PE based capture
	* modified winst32 with network connection

 -- detlef oertel <d.oertel@uib.de>  Thu, 5 Jun 2014 16:01:53 +0200

opsi-local-image-capture (4.0.5.1-1) stable; urgency=low

	* opsisetuplib.py update
	* needs opsi 4.0.5 bootimage
	* new property: netboot_product
	* new property: capture_architecture

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.3-2) stable; urgency=low

	* use opsi_depot and opsi_depot_rw (samba4 executable bit problem)
	#* experimental: call winst32.exe
	#* new property: netboot_product
	* new property: capture_architecture

 -- detlef oertel <d.oertel@uib.de>  Mon, 28 Apr 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* Swapoff all to avoid disk in use
	* remove action requests from poc store

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-capture (4.0.4.2-1) stable; urgency=low

	* initial: created from opsi-local-image-backup

 -- detlef oertel <d.oertel@uib.de>  Wed, 26 Mar 2014 16:01:53 +0200

.opsi-local-image-delimage
opsi-local-image-win* (4.0.5.1-3) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.5.1-2) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Thu, 24 Jul 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.5.1-1) stable; urgency=low
	* update of opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 22 Jul 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Fri, 31 Jan 2014 16:01:53 +0200

opsi-local-image-delimage (4.0.4.1-1) stable; urgency=low

  * Handles imagefile names with spaces (internal as '_')

 - detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-delimage (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

 - detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-delimage-4.0.3.1-2 testing; urgency=low
  * fix in type call
-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Apr 2013:15:00:00 +0200

opsi-local-image-delimage-4.0.3.1-1 testing; urgency=low
  * initial
-- Detlef Oertel <d.oertel@uib.de>  Wed,  13 Mar 2013:15:00:00 +0200

.opsi-local-image-prepare

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.5.1-2) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.5.1-1) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 22 Jul 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-4) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 17 Jun 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-3) stable; urgency=low

	* start_os_installation editable: True

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-2) stable; urgency=low

	* code cleanup
	* system_partition_size editable: True
	* data_partition_size editable: True

 -- detlef oertel <d.oertel@uib.de>  Tue, 27 May 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.2-3) stable; urgency=low

	* fix: Create backup partition: start is boundaryM + partgapM
	* library: createPartitionEx and createFilesystemEx with success test
	* smaller partGap : 64 M

 -- detlef oertel <d.oertel@uib.de>  Wed, 26 Mar 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.2-2) stable; urgency=low

	* swapoff all before partitioning
	* code cleanup

 -- detlef oertel <d.oertel@uib.de>  Thu, 27 Feb 2014 16:01:53 +0200

opsi-local-image-prepare (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-prepare (4.0.4.1-1) stable; urgency=low

	* rename to 4.0.4.1-1
	* added win81 products

 -- detlef oertel <d.oertel@uib.de>  Fri, 20 Dec 2013 16:01:53 +0200

opsi-local-image-prepare-4.0.3.2-1 testing; urgency=low
  * #267 Weitere Partitionsgrößen in "opsi-local-image-prepare"
  * new property: data_partition_size ; Default = 0G = partition will not be created
  * Now works also with 4 partitions
-- Detlef Oertel <d.oertel@uib.de>  Wed,  01 Aug 2013:15:00:00 +0200

opsi-local-image-prepare-4.0.3.1-1 testing; urgency=low
  * rename from opsi-local-image-repartition
  * added ProductProperty: start_OS_installation
  * added sleeps and 'sfdisk re-read's and retrries to avoid timing problems after create partition
-- Detlef Oertel <d.oertel@uib.de>  Wed,  13 Feb 2013:15:00:00 +0200

opsi-local-image-repartition-4.0.3.1-1 testing; urgency=low
  * initial
-- Detlef Oertel <d.oertel@uib.de>  Wed,  13 Feb 2013:15:00:00 +0200

.opsi-local-image-restore

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-restore (4.0.5.1-2) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-restore (4.0.5.1-1) stable; urgency=low

	* opsisetuplib.py update (new function setNextUefiBoot())
	* removed retry by sdfisk --re-read replaced by partprobe
	* fix: set next uefiboot via setNextUefiBoot()

 -- detlef oertel <d.oertel@uib.de>  Tue, 15 Jul 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.3-2) stable; urgency=low

	* opsisetuplib.py update
	* retry by sdfisk --re-read
	* fix: IndexError
	* try / except at restoring ntfs ACLs

 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* do not use  PE partition as swap (for reusing PE by capture)

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.2-2) stable; urgency=low

	* raise exception if there is no meta data file

 -- detlef oertel <d.oertel@uib.de>  Mon, 25 Mar 2014 16:01:53 +0200

opsi-local-image-restore (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support
	* Showing a progress bar when restoring a backup.

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-restore (4.0.4.1-1) stable; urgency=low

  * Fix: failover from rsync to image if rsync fails
  * replace all not allowed image name chars with "_"

 - detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-restore (4.0.3.2-2) stable; urgency=low

  * Fix: timeout increased from 100 to 1000

 - detlef oertel <d.oertel@uib.de>  20 Sep 2013

opsi-local-image-restore (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

 - detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-restore (4.0.3-7) stable; urgency=low

  * fix: method rsync-restore temporary activated again
  * partclone-image-restore uses now partclone.<fs> --dev-to-dev instaed of partclone.restore
  * mount for rsync uses mount.ntfs instead of imagemount
  * should be use d with backups from opsi-local-image-backup >= 4.0.3-4

 - detlef oertel <d.oertel@uib.de>  27 June 2013

opsi-local-image-restore (4.0.3-6) stable; urgency=low

  * fix: method rsync-restore temporary removed due to ntfs access rights problems and security risks

 - detlef oertel <d.oertel@uib.de>  27 June 2013

opsi-local-image-restore (4.0.3-5) experimental; urgency=low

  * fix: exclude symbolic links from rsync-restore use tar file instead
    should be use d with backups from 4.0.3-4

 - detlef oertel <d.oertel@uib.de>  24 June 2013

opsi-local-image-restore (4.0.3-4) stable; urgency=low

  * fix undefined myvalues in line 571

 - detlef oertel <d.oertel@uib.de>  17 June 2013

opsi-local-image-restore (4.0.3-3) stable; urgency=low

  * property 'method' has now "rsync-partclone-image" as default
  * new property setup_after_restore

 - detlef oertel <d.oertel@uib.de>  17 Apr 2013

opsi-local-image-restore (4.0.3-2) experimental; urgency=low

  * fix: set partition type and bootflag

 - detlef oertel <d.oertel@uib.de>  12 Mar 2013

opsi-local-image-restore (4.0.3-1) experimental; urgency=low

  * initial

 - detlef oertel <d.oertel@uib.de>  15 Oct 2012

.opsi-local-image-sysprep

opsi-local-image-sysprep (4.0.5.1-1) stable; urgency=low

	* deactivate opsi-client-agent before sysprep
	* set uefi netboot before reboot if a netboot product is activated

 -- detlef oertel <d.oertel@uib.de>  Tue, 15 Jul 2014 16:01:53 +0200

opsi-local-image-sysprep (4.0.4.3-1) stable; urgency=low

	* more features

 -- detlef oertel <d.oertel@uib.de>  Mon, 07 Apr 2014 16:01:53 +0200

opsi-local-image-sysprep (1.0-1) testing; urgency=low

  * Initial version based on opsi-sysprep

 -- d.oertel <d.oertel@uib.de> Wed, 26 Mar 2014 16:39:34 + 0100

.opsi-local-image-win* 

opsi-local-image-win* (4.0.5.1-3) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.5.1-2) stable; urgency=low
	* update opsisetuplib.py
 -- detlef oertel <d.oertel@uib.de>  Tue, 24 Jul 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.5.1-1) stable; urgency=low
	* diskpart.txt is now gpt aware
	* no delete of opsi directory in PE via cleanup
	* create_driver_links.py: do not extract buildIn-drivers from winpe (eu)
	* code cleanup: no dual disk (ever only first disk)
 -- detlef oertel <d.oertel@uib.de>  Fri, 3 Jul 2014 10:01:53 +0200

opsi-local-image-win7 (4.0.4.3-3) stable; urgency=low
	* opsisetuplib.py update
 -- detlef oertel <d.oertel@uib.de>  Wed, 28 May 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.3-2) stable; urgency=low
	* fix in setup_after_install
 -- detlef oertel <d.oertel@uib.de>  Thu, 22 May 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.3-1) stable; urgency=low

	* use of opsisetuplib.py
	* property imagename now editable
	* Swapoff all to avoid disk in use
	* lvmClearVolumeGroups() to avoid disk in use

 -- detlef oertel <d.oertel@uib.de>  Fri, 28 Mar 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.2-2) stable; urgency=low

	* syntax fix

 -- detlef oertel <d.oertel@uib.de>  Thu, 27 Feb 2014 16:01:53 +0200

opsi-local-image-win7 (4.0.4.2-1) stable; urgency=low

	* uefi / gpt support

 -- detlef oertel <d.oertel@uib.de>  Mon, 30 Dec 2013 16:01:53 +0200

opsi-local-image-win7 (4.0.4.1-2) stable; urgency=low

	* UCS 3.2 Errata 4 fix: mount share from PE with valid domain:
		shareusername via webservice from clientconfig.depot.user

 -- detlef oertel <d.oertel@uib.de>  Thu, 16 Jan 2014 16:01:53 +0200


opsi-local-image-win7 (4.0.4.1-1) stable; urgency=low

  * new product property setup_after_install: list of products which will be switched to setup with dependencies
  * if backup_after_install is true, the product property imageFile of opsi-local-image-backup will be set to '' (empty)

-- detlef oertel <d.oertel@uib.de>  16 Dec 2013

opsi-local-image-win7 (4.0.3.2-1) stable; urgency=low

  * Now works also with 4 partitions

-- detlef oertel <d.oertel@uib.de>  01 Aug 2013

opsi-local-image-win7 (4.0.3-2) stable; urgency=low

  * better error messages on wrong partition table

 -- uib GmbH <info@uib.de>  Wed, 17 Apr 2013 13:30:20 +0000

opsi-local-image-win7 (4.0.3-1) experimental; urgency=low

  * changed to match opsi-local-image standard

 -- uib GmbH <info@uib.de>  Wed, 13 Feb 2013 13:30:20 +0000


[[opsi-405-releasenotes-misc-changelogs-python-opsi]]
==== Changelog python-opsi

dummy text
 
[[opsi-405-releasenotes-misc-changelogs-opsipxeconfd]]
==== Changelog opsipxeconfd

dummy text

[[opsi-405-releasenotes-misc-changelogs-opsiconfd]]
==== Changelog opsiconfd

dummy text

[[opsi-405-releasenotes-misc-changelogs-opsi-utils]]
==== Changelog opsi-utils

dummy text

[[opsi-405-releasenotes-misc-changelogs-opsi-linux-bootimage]]
==== Changelog opsi-linux-bootimage

dummy text

[[opsi-405-releasenotes-misc-changelogs-opsi-depotserver]]
==== Changelog opsi-depotserver

dummy text

[[opsi-405-releasenotes-misc-changelogs-opsi4ucs]]
==== Changelog opsi4ucs

dummy text

[[opsi-405-releasenotes-opsi-configed]]
==== Changelog opsi-configed

dummy text

[[opsi-405-releasenotes-opsi-swaudit]]
==== Changelog opsi-swaudit

swaudit (4.0.5-1) stable; urgency=low
  * Fix writing to long entries in sub_create_hash4 by adding to all string values something like "name="+strPart($name$,"1","99")
  * codecleanup
  * changelog to control file
 -- detlef oertel <d.oertel@uib.de>  Fri, 01 Aug 2014 15:00:00 +0100

